<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>PYXIS 플레이어</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;800;900&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
<script src="/socket.io/socket.io.js"></script>
<style>
  :root{
    /* 네이비 + 골드 고정 팔레트 */
    --bg-0:#05090f;
    --bg-1:#081223;
    --bg-2:#0b172d;
    --glass:#0e1a33cc;
    --glass-2:#122242cc;
    --border:#1f2b46;
    --border-2:#162139;

    --ink:#e9e3d0;
    --ink-dim:#cfc7b2;
    --muted:#9fb0d1;

    --gold:#c9a96e;
    --gold-2:#e6d2a6;

    --ok:#3f9964;
    --warn:#c1994e;
    --bad:#b45c5c;

    --blur: blur(12px) saturate(120%);
    --lift: 0 14px 30px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.03);
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; color:var(--ink);
    font-family:"Noto Sans KR", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    background:
      radial-gradient(1200px 600px at 20% -10%, rgba(201,169,110,.10), transparent 60%),
      linear-gradient(180deg, #020509 0%, #051021 40%, #0a1830 100%);
  }

  /* 헤더(브랜딩) */
  header{position:relative; padding:18px 16px 8px 16px}
  header::before{
    content:""; position:absolute; inset:-35% -10% auto -10%; height:320px;
    background:conic-gradient(from 0deg, rgba(201,169,110,.18), rgba(201,169,110,.03), rgba(201,169,110,.18));
    filter:blur(48px); animation:spin 36s linear infinite; opacity:.55; pointer-events:none;
  }
  @keyframes spin{to{transform:rotate(360deg)}}

  .wrap{max-width:1280px; margin:0 auto}

  .brand{
    font-family:"Cinzel", serif; font-weight:900; letter-spacing:.06em;
    font-size:30px; position:relative; display:inline-block;
    background:linear-gradient(180deg,var(--gold-2),var(--gold));
    -webkit-background-clip:text; background-clip:text; color:transparent;
  }

  /* 메인 3열 스테이지: 좌(팀1) - 중앙(초상/행동/채팅/로그) - 우(팀2) */
  .stage{display:grid; grid-template-columns:260px 1fr 260px; gap:14px; padding:12px 16px}
  @media (max-width:1100px){ .stage{grid-template-columns:1fr} }

  /* 카드 */
  .card{
    background:linear-gradient(180deg,var(--glass),var(--glass-2));
    border:1px solid var(--border); border-top:1px solid rgba(255,255,255,.05);
    border-radius:16px; padding:12px; backdrop-filter:var(--blur); box-shadow:var(--lift);
  }

  /* 좌/우 팀 리스트 */
  .side{display:flex; flex-direction:column; gap:10px}
  .unit{display:flex; gap:10px; align-items:center; border:1px solid var(--border); border-radius:12px; padding:8px; background:#0f1d39}
  .unit .avatar{width:44px; height:44px; border-radius:8px; background:#0b1630 center/cover no-repeat; border:1px solid var(--border)}
  .unit .meta{flex:1}
  .hpbar{height:8px;background:#172642;border-radius:8px;overflow:hidden;margin-top:4px}
  .hpbar>span{display:block;height:100%;background:linear-gradient(90deg,#58a7ff,#67e8f9)}
  .unit.active{outline:2px solid rgba(201,169,110,.4)}
  .unit.dead{opacity:.55}

  /* 중앙 레이아웃 */
  .center{display:grid; grid-template-rows:auto auto 260px 220px; gap:12px}
  @media (max-width:1100px){ .center{grid-template-rows:auto auto 260px 240px} }

  /* 액티브 포트레이트(반신) */
  .portrait{
    position:relative; min-height:200px; display:flex; align-items:flex-end; justify-content:center;
    border:1px solid var(--border); border-radius:16px;
    background:linear-gradient(180deg,#0a1224,#0a1224);
    overflow:hidden;
  }
  .portrait .img{
    position:absolute; bottom:0; width:40%; max-width:360px; aspect-ratio:3/4; background:#0b1630 center/cover no-repeat; border:1px solid var(--border);
    border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,.45);
  }
  .portrait.left  .img{left:24px}
  .portrait.right .img{right:24px}
  .portrait .nameplate{
    position:absolute; top:10px; left:12px; right:12px; display:flex; justify-content:space-between; align-items:center;
    font-weight:700; color:var(--gold);
  }
  .portrait .stats{
    position:absolute; bottom:12px; left:12px; right:12px; display:flex; gap:12px; flex-wrap:wrap; color:#cfd6ea; font-size:14px;
    background:#0c162eaa; border:1px solid var(--border); border-radius:10px; padding:8px 10px;
  }

  /* 행동 패널 */
  .actions .btn{
    border:1px solid var(--border-2); color:var(--ink);
    background:linear-gradient(180deg,#213456,#172a4a);
    padding:10px 12px; border-radius:12px; cursor:pointer; position:relative; overflow:hidden;
    transition:transform .15s ease, box-shadow .15s ease;
  }
  .actions .btn:hover{transform:translateY(-1px)}
  .actions .btn[disabled]{opacity:.55; cursor:not-allowed}
  .actions .btn.gold{border-color:#6f5a33; background:linear-gradient(180deg,#e6d2a6,#c9a96e); color:#2a200f}
  .actions .btn.success{border-color:#305f47; background:linear-gradient(180deg,#44956c,#2f5f47)}
  .actions .btn.warn{border-color:#7b5b20; background:linear-gradient(180deg,#cda45a,#8f6d34)}

  .actions .row{display:flex; flex-wrap:wrap; gap:8px}

  .hint{color:#aeb7cf; font-size:12px}

  /* 채팅, 로그 */
  .chat, .logs{height:100%; overflow:auto; background:#0b1630; border:1px solid var(--border); border-radius:12px; padding:10px}
  .ts{font-size:11px;color:#8aa0c2;min-width:54px;flex:0 0 auto}
  .line{display:flex; gap:8px; align-items:baseline; margin-bottom:6px}

  .chat::-webkit-scrollbar, .logs::-webkit-scrollbar{height:10px;width:10px}
  .chat::-webkit-scrollbar-track, .logs::-webkit-scrollbar-track{background:#0b1426;border-radius:10px}
  .chat::-webkit-scrollbar-thumb, .logs::-webkit-scrollbar-thumb{background:#1e2d4f;border-radius:10px;border:2px solid #0b1426}

  /* 모달(타겟/아이템 선택) */
  .modal{position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; z-index:30}
  .modal.open{display:flex}
  .panel{width:min(720px, 94vw); background:linear-gradient(180deg,var(--glass),var(--glass-2)); border:1px solid var(--border); border-radius:16px; padding:14px; backdrop-filter:var(--blur)}
  .panel h3{margin:0 0 8px 0; color:var(--gold)}
  .listgrid{display:grid; grid-template-columns:repeat(3, 1fr); gap:8px}
  @media (max-width:560px){ .listgrid{grid-template-columns:1fr 1fr} }
  .choice{border:1px solid var(--border); border-radius:12px; padding:10px; background:#0f1d39; cursor:pointer}
  .choice.dead{opacity:.5; pointer-events:none}
  .choice:hover{outline:2px solid rgba(201,169,110,.4)}
  .choice .mini{font-size:12px; color:#aeb7cf}

  .controls{display:flex; gap:8px; margin-top:8px; justify-content:flex-end}
  .controls .btn{border:1px solid var(--border); background:#112243; color:var(--ink); border-radius:10px; padding:8px 10px}
</style>
</head>
<body>
<header>
  <div class="wrap">
    <div class="brand">Pyxis</div>
  </div>
</header>

<main class="wrap stage">
  <!-- 좌측: 팀1 -->
  <aside class="side" id="teamLeft"></aside>

  <!-- 중앙 -->
  <section class="center">
    <!-- 액티브 포트레이트 -->
    <div class="card portrait" id="portrait">
      <div class="nameplate">
        <div id="turnInfo">대기중</div>
        <div id="modeInfo" style="color:#cfd6ea; font-weight:600"></div>
      </div>
      <div class="img" id="portraitImg" style="display:none"></div>
      <div class="stats" id="portraitStats" style="display:none"></div>
    </div>

    <!-- 내 정보 / 업로드 -->
    <div class="card" id="meCard">
      <div style="display:flex; justify-content:space-between; align-items:center; gap:8px; flex-wrap:wrap">
        <div>
          <div id="meName" style="font-weight:800; color:var(--gold)"></div>
          <div id="meTeam" class="hint"></div>
        </div>
        <div class="row" style="display:flex; gap:8px; align-items:center">
          <input id="avatarFile" type="file" accept="image/*" style="display:none" />
          <button id="btnAvatar" class="actions btn">아바타 업로드</button>
          <span class="hint">권장 256KB 이하</span>
        </div>
      </div>
      <div class="hint" id="turnHint" style="margin-top:6px"></div>
    </div>

    <!-- 행동 -->
    <div class="card actions">
      <div class="row">
        <button id="btnAtk" class="btn gold">공격</button>
        <button id="btnDef" class="btn">방어</button>
        <button id="btnEva" class="btn">회피</button>
        <button id="btnItem" class="btn">아이템</button>
        <button id="btnPass" class="btn warn">패스</button>
      </div>
      <div class="hint" style="margin-top:6px">내 턴에만 버튼이 활성화됩니다.</div>
    </div>

    <!-- 채팅 -->
    <div class="card" style="display:grid; grid-template-rows:1fr auto; gap:8px">
      <div id="chat" class="chat"></div>
      <div style="display:flex; gap:8px">
        <select id="chatCh" class="card" style="padding:8px 10px; border-radius:10px; background:#0f1e3b; border:1px solid var(--border)">
          <option value="all">전체</option>
          <option value="team">팀</option>
        </select>
        <input id="chatInput" class="card" placeholder="메시지 입력" style="flex:1; padding:10px; border-radius:10px; background:#0f1e3b; border:1px solid var(--border)" />
        <button id="chatSend" class="actions btn">보내기</button>
      </div>
    </div>

    <!-- 로그 -->
    <div class="card">
      <div id="logs" class="logs"></div>
    </div>
  </section>

  <!-- 우측: 팀2 -->
  <aside class="side" id="teamRight"></aside>
</main>

<!-- 타겟 선택 모달 -->
<div class="modal" id="targetModal">
  <div class="panel">
    <h3 id="targetTitle">대상 선택</h3>
    <div id="targetList" class="listgrid"></div>
    <div class="controls">
      <button class="btn" id="targetCancel">취소</button>
    </div>
  </div>
</div>

<!-- 아이템 선택 모달 -->
<div class="modal" id="itemModal">
  <div class="panel">
    <h3>아이템 사용</h3>
    <div id="itemList" class="listgrid"></div>
    <div class="controls">
      <button class="btn" id="itemCancel">닫기</button>
    </div>
  </div>
</div>

<script>
(function(){
  const $ = (id)=>document.getElementById(id);

  // DOM
  const teamLeft  = $('teamLeft');
  const teamRight = $('teamRight');
  const portrait  = $('portrait');
  const portraitImg = $('portraitImg');
  const portraitStats = $('portraitStats');
  const turnInfo  = $('turnInfo');
  const modeInfo  = $('modeInfo');
  const meCard = $('meCard'), meName = $('meName'), meTeam = $('meTeam'), turnHint = $('turnHint');

  const btnAtk = $('btnAtk'), btnDef = $('btnDef'), btnEva = $('btnEva'), btnItem = $('btnItem'), btnPass = $('btnPass');

  const chatEl = $('chat'), chatInput = $('chatInput'), chatSend = $('chatSend'), chatCh = $('chatCh');
  const logsEl = $('logs');

  const avatarFile = $('avatarFile'), btnAvatar = $('btnAvatar');

  const targetModal = $('targetModal'), targetList = $('targetList'), targetCancel = $('targetCancel'), targetTitle = $('targetTitle');
  const itemModal   = $('itemModal'), itemList = $('itemList'), itemCancel = $('itemCancel');

  // 소켓 & 상태
  const socket = io({ path: '/socket.io/' });
  let state = null;
  let myPid = null;
  let myName = null;
  let myTeam = null;

  // 쿼리 인증
  const qs = new URLSearchParams(location.search);
  const battle = qs.get('battle'); const token = qs.get('token'); const name = qs.get('name'); const pid = qs.get('pid');
  myName = name || '플레이어';

  function fmtTs(ts){ try{ return new Date(ts).toLocaleTimeString([], {hour12:false}); }catch{return '--:--:--';} }

  function appendChat(m){
    const row = document.createElement('div'); row.className='line';
    const ts = document.createElement('span'); ts.className='ts'; ts.textContent = fmtTs(m.ts||Date.now());
    const body = document.createElement('span');
    if (m.type === 'system')      body.textContent = '[시스템] ' + m.text;
    else if (m.type === 'cheer')  body.textContent = '[응원] ' + (m.from||'관전자') + ': ' + m.text;
    else if (m.type === 'chat')   body.textContent = '[' + (m.channel==='team'?'팀':'전체') + '] ' + (m.from||'익명') + ': ' + (m.text||m.message||'');
    else                          body.textContent = m.text || JSON.stringify(m);
    row.appendChild(ts); row.appendChild(body);
    chatEl.appendChild(row); chatEl.scrollTop = chatEl.scrollHeight;
  }
  function appendLog(text){
    const row = document.createElement('div'); row.className='line';
    const ts = document.createElement('span'); ts.className='ts'; ts.textContent = fmtTs(Date.now());
    const body = document.createElement('span'); body.textContent = text;
    row.appendChild(ts); row.appendChild(body);
    logsEl.appendChild(row); logsEl.scrollTop = logsEl.scrollHeight;
  }

  function byTeam(team){ return Object.values(state.players||{}).filter(p=>p.team===team); }
  function getOppTeam(team){ return team==='team1' ? 'team2' : 'team1'; }

  function currentActorPid(){
    const t = state && state.turn;
    if (!t) return null;
    if (Array.isArray(t.pending) && t.pending.length) return t.pending[0];
    // 베스트-에포트 추정 실패 시 null
    return null;
  }

  function isMyTurn(){
    return state && state.status==='ongoing' && myPid && currentActorPid() === myPid;
  }

  function setActionEnables(){
    const en = isMyTurn();
    [btnAtk,btnDef,btnEva,btnItem,btnPass].forEach(b=>{ b.disabled = !en; });
    turnHint.textContent = en ? '당신의 턴입니다. 행동을 선택하세요.' : '상대 또는 팀원의 턴입니다.';
  }

  function hpPct(p){ return Math.max(0, Math.min(100, Math.round((p.hp/p.maxHp)*100))); }

  function smallUnit(p){
    const el = document.createElement('div'); el.className='unit' + (p.alive?'':' dead');
    if (currentActorPid() === p.id) el.classList.add('active');

    const av = document.createElement('div'); av.className='avatar';
    if (p.avatar) av.style.backgroundImage = `url(${p.avatar})`;
    el.appendChild(av);

    const meta = document.createElement('div'); meta.className='meta';
    const nm = document.createElement('div'); nm.style.fontWeight='700'; nm.textContent = p.name + (p.alive?'':' (불능)');
    const bar = document.createElement('div'); bar.className='hpbar'; const span = document.createElement('span'); span.style.width = hpPct(p)+'%'; bar.appendChild(span);
    const st = document.createElement('div'); st.style.color='#aeb7cf'; st.style.fontSize='12px';
    st.textContent = `공격 ${p.stats.attack} / 방어 ${p.stats.defense} / 민첩 ${p.stats.agility} / 행운 ${p.stats.luck}`;
    meta.appendChild(nm); meta.appendChild(bar); meta.appendChild(st);
    el.appendChild(meta);
    return el;
  }

  function renderSides(){
    teamLeft.innerHTML=''; teamRight.innerHTML='';
    byTeam('team1').forEach(p=>teamLeft.appendChild(smallUnit(p)));
    byTeam('team2').forEach(p=>teamRight.appendChild(smallUnit(p)));
  }

  function renderPortrait(){
    // 현재 액터를 기준으로 반신/스탯 표시
    const pid = currentActorPid();
    const p = pid ? state.players[pid] : null;
    const dir = p && p.team==='team2' ? 'right' : 'left';
    portrait.classList.toggle('left',  dir==='left');
    portrait.classList.toggle('right', dir==='right');

    const tm = p ? (p.team==='team1' ? '불사조 기사단' : '죽음을 먹는 자들') : '';
    const ti = state ? `턴 ${state.turn?.turnIndex||0}` : '';
    turnInfo.textContent = p ? `${p.name}의 차례` : '대기중';
    modeInfo.textContent = state ? `${state.mode || ''}` : '';

    if (p && p.avatar){
      portraitImg.style.display='block';
      portraitImg.style.backgroundImage = `url(${p.avatar})`;
    } else {
      portraitImg.style.display='none';
      portraitImg.style.backgroundImage = '';
    }

    if (p){
      portraitStats.style.display='flex';
      portraitStats.innerHTML =
        `<div>팀: ${tm}</div>
         <div>HP: ${p.hp} / ${p.maxHp}</div>
         <div>공격 ${p.stats.attack}</div>
         <div>방어 ${p.stats.defense}</div>
         <div>민첩 ${p.stats.agility}</div>
         <div>행운 ${p.stats.luck}</div>`;
    }else{
      portraitStats.style.display='none';
      portraitStats.innerHTML = '';
    }
  }

  function renderMe(){
    if (!myPid || !state || !state.players[myPid]) return;
    const me = state.players[myPid];
    meName.textContent = me.name;
    meTeam.textContent = me.team==='team1' ? '불사조 기사단' : '죽음을 먹는 자들';
  }

  function renderLogsFromState(){
    logsEl.innerHTML = '';
    (state.chat||[]).slice(-200).forEach(m=>{
      if (m.type === 'system'){
        appendLog(m.text);
      }
    });
  }

  function renderAll(){
    if (!state) return;
    renderSides();
    renderPortrait();
    renderMe();
    setActionEnables();
    renderLogsFromState();
  }

  // 소켓 이벤트 -------------------------------------------------
  socket.on('connect', ()=>{
    socket.emit('auth', { battle, token, role:'player', name, pid }, (ack)=>{
      if (!ack || !ack.ok) { alert('인증 실패'); return; }
      state = ack.state;
      // 내 PID 파악
      myPid = (function(){
        if (pid && state.players[pid]) return pid;
        // 토큰으로 연결된 경우 서버에서 연결 pid를 심어주지 않으므로, 이름으로 찾기
        const entry = Object.values(state.players||{}).find(p=>p.name===name);
        return entry ? entry.id : null;
      })();
      myTeam = myPid ? (state.players[myPid]?.team || null) : null;
      renderAll();
    });
  });

  socket.on('state', s => { state = s; renderAll(); });
  socket.on('chat', appendChat);
  socket.on('chatError', txt => alert(txt));

  // 채팅 전송
  chatSend.onclick = ()=>{
    const text = chatInput.value.trim(); if (!text) return;
    socket.emit('chatMessage', { message: text, channel: chatCh.value });
    chatInput.value = '';
  };

  // 아바타 업로드
  btnAvatar.onclick = ()=> avatarFile.click();
  avatarFile.onchange = (e)=>{
    const file = e.target.files && e.target.files[0];
    if (!file) return;
    if (!file.type.startsWith('image/')) { alert('이미지 파일만 업로드할 수 있습니다'); return; }
    if (file.size > 256*1024) { alert('파일 용량이 256KB를 초과합니다'); return; }
    const r = new FileReader();
    r.onload = ()=> {
      const dataUrl = r.result;
      socket.emit('uploadAvatar', { dataUrl }, (ack)=>{
        if (!ack || !ack.ok) { alert('업로드 실패'); return; }
      });
    };
    r.readAsDataURL(file);
  };

  // ---------- 액션 처리(공격/방어/회피/아이템/패스) ----------
  function ensureMyTurn(){ if (!isMyTurn()){ alert('지금은 당신의 턴이 아닙니다'); return false; } return true; }

  // 공통 타겟 모달
  function openTargetModal(title, targets, onPick){
    targetTitle.textContent = title;
    targetList.innerHTML = '';
    targets.forEach(p=>{
      const c = document.createElement('div'); c.className='choice' + (p.alive?'':' dead');
      const nm = document.createElement('div'); nm.style.fontWeight='700'; nm.textContent = p.name + (p.alive?'':' (불능)');
      const mini = document.createElement('div'); mini.className='mini'; mini.textContent = `HP ${p.hp}/${p.maxHp}`;
      c.appendChild(nm); c.appendChild(mini);
      c.onclick = ()=>{ closeTargetModal(); onPick && onPick(p); };
      targetList.appendChild(c);
    });
    targetModal.classList.add('open');
  }
  function closeTargetModal(){ targetModal.classList.remove('open'); }
  targetCancel.onclick = closeTargetModal;

  // 아이템 모달
  function openItemModal(onPick){
    itemList.innerHTML='';
    const me = state.players[myPid];
    const inv = me && me.inventory ? me.inventory : {};
    const allowed = ['디터니','공격 보정기','방어 보정기'];
    allowed.forEach(name=>{
      const count = Number(inv[name] || 0);
      const c = document.createElement('div'); c.className='choice' + (count>0?'':' dead');
      const nm = document.createElement('div'); nm.style.fontWeight='700'; nm.textContent = `${name} x${count}`;
      const mini = document.createElement('div'); mini.className='mini';
      if (name==='디터니') mini.textContent = '아군 10 회복';
      if (name==='공격 보정기') mini.textContent = '1턴 공격 x1.5 (실패 가능)';
      if (name==='방어 보정기') mini.textContent = '1턴 방어 x1.5 (실패 가능)';
      c.appendChild(nm); c.appendChild(mini);
      if (count>0) c.onclick = ()=>{ closeItemModal(); onPick && onPick(name); };
      itemList.appendChild(c);
    });
    itemModal.classList.add('open');
  }
  function closeItemModal(){ itemModal.classList.remove('open'); }
  itemCancel.onclick = closeItemModal;

  // 공격
  btnAtk.onclick = ()=>{
    if (!ensureMyTurn()) return;
    const opps = byTeam(getOppTeam(myTeam)).filter(p=>p.alive);
    if (!opps.length){ alert('공격 대상이 없습니다'); return; }
    openTargetModal('공격 대상 선택', opps, (tgt)=>{
      socket.emit('chooseAction', { kind:'attack', targetId:tgt.id }, (ack)=>{
        if (!ack || !ack.ok) { alert(ack && ack.error ? ('실패: '+ack.error) : '실패'); }
      });
    });
  };

  // 방어
  btnDef.onclick = ()=>{
    if (!ensureMyTurn()) return;
    socket.emit('chooseAction', { kind:'defend' }, (ack)=>{
      if (!ack || !ack.ok) { alert(ack && ack.error ? ('실패: '+ack.error) : '실패'); }
    });
  };

  // 회피
  btnEva.onclick = ()=>{
    if (!ensureMyTurn()) return;
    socket.emit('chooseAction', { kind:'evade' }, (ack)=>{
      if (!ack || !ack.ok) { alert(ack && ack.error ? ('실패: '+ack.error) : '실패'); }
    });
  };

  // 패스
  btnPass.onclick = ()=>{
    if (!ensureMyTurn()) return;
    socket.emit('chooseAction', { kind:'pass' }, (ack)=>{
      if (!ack || !ack.ok) { alert(ack && ack.error ? ('실패: '+ack.error) : '실패'); }
    });
  };

  // 아이템
  btnItem.onclick = ()=>{
    if (!ensureMyTurn()) return;
    openItemModal((itemName)=>{
      if (itemName === '디터니'){
        const allies = byTeam(myTeam).filter(p=>p.alive);
        openTargetModal('회복 대상 선택', allies, (tgt)=>{
          socket.emit('chooseAction', { kind:'item', itemName, targetId:tgt.id }, (ack)=>{
            if (!ack || !ack.ok) { alert(ack && ack.error ? ('실패: '+ack.error) : '실패'); }
          });
        });
      } else {
        // 공격/방어 보정기는 대상 없이 자기 자신
        socket.emit('chooseAction', { kind:'item', itemName }, (ack)=>{
          if (!ack || !ack.ok) { alert(ack && ack.error ? ('실패: '+ack.error) : '실패'); }
        });
      }
    });
  };

})();
</script>
</body>
</html>
