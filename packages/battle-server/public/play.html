<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>PYXIS 플레이어</title>
<link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700;800;900&family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link href="/assets/pyxis-theme.css" rel="stylesheet">
<script src="/socket.io/socket.io.js"></script>
<style>
/* 플레이어 전용 스타일 - 관리자 페이지 디자인 통일 */
.player-header{
  position:relative; 
  padding:32px 20px 16px; 
  overflow:hidden;
}

.player-header::before{
  content:''; 
  position:absolute; 
  inset:-40% -16% auto -16%; 
  height:360px;
  background:conic-gradient(from 0deg at 50% 50%, 
    rgba(212,183,126,.18) 0deg, 
    rgba(212,183,126,.06) 60deg,
    rgba(212,183,126,.22) 120deg, 
    rgba(212,183,126,.04) 180deg, 
    rgba(212,183,126,.18) 240deg, 
    rgba(212,183,126,.06) 300deg, 
    rgba(212,183,126,.18) 360deg
  );
  filter:blur(60px);
  animation:playerOrbit 45s linear infinite;
  opacity:.7;
  pointer-events:none;
  z-index:-1;
}

@keyframes playerOrbit{
  0%{transform:rotate(0deg) scale(1)}
  25%{transform:rotate(90deg) scale(1.08)}
  50%{transform:rotate(180deg) scale(.92)}
  75%{transform:rotate(270deg) scale(1.12)}
  100%{transform:rotate(360deg) scale(1)}
}

.player-brand{
  font-family:var(--serif); 
  font-weight:900; 
  letter-spacing:.08em; 
  font-size:36px;
  background:linear-gradient(135deg, 
    var(--gold-bright) 0%, 
    var(--gold-shimmer) 25%, 
    var(--gold) 50%, 
    var(--gold-light) 75%,
    var(--gold-bright) 100%
  );
  background-size:350% 350%;
  -webkit-background-clip:text; 
  background-clip:text; 
  -webkit-text-fill-color:transparent;
  animation:playerShimmer 4s ease-in-out infinite;
  position:relative;
  display:inline-block;
  text-shadow:0 4px 18px rgba(212,183,126,.35);
}

@keyframes playerShimmer{
  0%,100%{
    background-position:0% 50%;
    filter:brightness(1);
    transform:scale(1);
  }
  50%{
    background-position:100% 50%;
    filter:brightness(1.2);
    transform:scale(1.025);
  }
}

.player-brand::before{
  content:'✦';
  position:absolute;
  top:-8px;
  left:-22px;
  font-size:16px;
  color:var(--gold);
  animation:twinkle 2s ease-in-out infinite;
  opacity:.8;
}

.player-brand::after{
  content:'전투자';
  position:absolute;
  top:-8px;
  right:-58px;
  font-size:12px;
  font-weight:700;
  color:var(--gold);
  background:linear-gradient(135deg, rgba(212,183,126,.2), rgba(212,183,126,.1));
  border:1px solid var(--gold);
  border-radius:999px;
  padding:4px 12px;
  letter-spacing:.02em;
  box-shadow:0 3px 10px rgba(212,183,126,.15);
}

@keyframes twinkle{
  0%,100%{ opacity:.3; transform:scale(.8) rotate(0deg); }
  50%{ opacity:1; transform:scale(1.2) rotate(180deg); }
}

.player-stage{
  display:grid; 
  grid-template-columns:280px 1fr 340px; 
  gap:20px; 
  padding:18px 22px;
  max-width:1500px;
  margin:0 auto;
}

@media (max-width:1300px){
  .player-stage{
    grid-template-columns:1fr;
    gap:16px;
  }
}

/* 인증 섹션 */
.auth-section{
  background:linear-gradient(
    145deg, 
    rgba(212,183,126,.08) 0%, 
    rgba(16,21,35,.88) 30%, 
    rgba(26,32,44,.82) 100%
  );
  border:2px solid var(--gold); 
  border-radius:var(--radius); 
  padding:24px; 
  text-align:center; 
  backdrop-filter:var(--blur-strong);
  box-shadow:var(--shadow-deep), inset 0 2px 0 rgba(212,183,126,.2), var(--shadow-glow);
  position:relative; 
  overflow:hidden;
}

.auth-section::before{ 
  content:''; 
  position:absolute; 
  inset:0; 
  background:linear-gradient(
    135deg, 
    rgba(212,183,126,.1), 
    transparent 40%, 
    rgba(212,183,126,.05)
  ); 
  opacity:.6; 
}

.auth-title{ 
  font-family:var(--serif); 
  font-size:26px; 
  font-weight:800; 
  color:var(--gold-bright); 
  margin-bottom:18px; 
  position:relative; 
  text-shadow:0 2px 8px rgba(212,183,126,.3);
}

.auth-form{ 
  display:grid; 
  gap:14px; 
  max-width:420px; 
  margin:0 auto; 
  position:relative; 
}

.auth-row{ 
  display:grid; 
  grid-template-columns:1fr 1fr; 
  gap:12px; 
}

@media (max-width:600px){ 
  .auth-row{ 
    grid-template-columns:1fr; 
  } 
}

/* 중앙 섹션 */
.center-section{ 
  display:grid; 
  grid-template-rows:auto 1fr auto; 
  gap:16px; 
  min-height:650px; 
}

.player-info-bar{
  background:linear-gradient(
    145deg, 
    rgba(16,21,35,.92) 0%, 
    rgba(26,32,44,.88) 50%, 
    rgba(16,21,35,.92) 100%
  );
  border:1px solid var(--border-2); 
  border-radius:var(--radius); 
  padding:20px; 
  backdrop-filter:var(--blur-medium);
  box-shadow:var(--shadow-medium), var(--shadow-inset), var(--shadow-glow);
  position:relative;
}

.player-info-bar::before{
  content:''; 
  position:absolute; 
  top:0; left:24px; right:24px; height:1px; 
  background:linear-gradient(
    90deg, 
    transparent, 
    var(--gold-subtle) 40%, 
    var(--gold) 50%, 
    var(--gold-subtle) 60%, 
    transparent
  );
  opacity:.8;
}

.info-header{ 
  display:flex; 
  justify-content:space-between; 
  align-items:center; 
  margin-bottom:14px; 
}

.player-name{ 
  font-family:var(--serif); 
  font-size:24px; 
  font-weight:800; 
  color:var(--gold-bright); 
  text-shadow:0 2px 8px rgba(212,183,126,.3); 
}

.player-team{ 
  font-size:13px; 
  color:var(--text-dim); 
  font-weight:600; 
  padding:5px 14px; 
  background:rgba(212,183,126,.1); 
  border:1px solid rgba(212,183,126,.3); 
  border-radius:999px; 
  letter-spacing:.01em;
}

.turn-status{ 
  font-size:16px; 
  font-weight:700; 
  padding:8px 18px; 
  border-radius:999px; 
  border:1px solid var(--border-1); 
  background:rgba(26,32,44,.8); 
  color:var(--text-dim); 
  transition:all var(--transition-normal);
  backdrop-filter:var(--blur-light);
}

.turn-status.active{ 
  background:linear-gradient(135deg, var(--gold-bright), var(--gold-dark)); 
  color:var(--deep-navy); 
  border-color:var(--gold-bright); 
  box-shadow:0 0 18px rgba(212,183,126,.5), 0 0 8px rgba(212,183,126,.3) inset;
  animation:turnPulse 2.5s ease-in-out infinite; 
  font-weight:800;
}

@keyframes turnPulse{ 
  0%,100%{
    box-shadow:0 0 18px rgba(212,183,126,.5), 0 0 8px rgba(212,183,126,.3) inset
  } 
  50%{
    box-shadow:0 0 26px rgba(212,183,126,.7), 0 0 12px rgba(212,183,126,.5) inset
  } 
}

.action-bar{ 
  display:flex; 
  gap:12px; 
  flex-wrap:wrap; 
  justify-content:center; 
  margin-top:12px; 
}

.action-btn{
  padding:14px 20px; 
  font-size:14px; 
  font-weight:700; 
  border-radius:var(--radius-small); 
  border:2px solid var(--border-2);
  background:linear-gradient(
    145deg, 
    rgba(42,52,65,.9), 
    rgba(26,32,44,.9)
  ); 
  color:var(--text); 
  cursor:pointer; 
  transition:all var(--transition-normal); 
  position:relative; 
  overflow:hidden; 
  min-width:90px;
  backdrop-filter:var(--blur-light);
  box-shadow:var(--shadow-subtle);
}

.action-btn::before{ 
  content:''; 
  position:absolute; 
  inset:0; 
  background:linear-gradient(
    135deg, 
    rgba(212,183,126,.15), 
    transparent 50%, 
    rgba(212,183,126,.1)
  ); 
  opacity:0; 
  transition:opacity var(--transition-normal); 
}

.action-btn:hover:not(:disabled){ 
  transform:translateY(-3px); 
  border-color:var(--gold); 
  box-shadow:var(--shadow-medium), 0 0 20px rgba(212,183,126,.25); 
  color:var(--gold-bright);
}

.action-btn:hover:not(:disabled)::before{ 
  opacity:1; 
}

.action-btn:disabled{ 
  opacity:.4; 
  cursor:not-allowed; 
  transform:none; 
}

.action-btn.primary{ 
  background:linear-gradient(145deg, var(--gold-bright), var(--gold-dark)); 
  color:var(--deep-navy); 
  border-color:var(--gold); 
  font-weight:800; 
  box-shadow:var(--shadow-soft), 0 0 15px rgba(212,183,126,.2);
}

.action-btn.primary:hover:not(:disabled){
  background:linear-gradient(145deg, var(--gold-shimmer), var(--gold));
  box-shadow:var(--shadow-medium), 0 0 25px rgba(212,183,126,.4);
  transform:translateY(-3px) scale(1.02);
}

.game-hint{ 
  text-align:center; 
  color:var(--text-muted); 
  font-size:13px; 
  font-style:italic; 
  margin-top:12px; 
  padding:10px; 
  background:rgba(212,183,126,.05); 
  border-radius:var(--radius-small); 
  border:1px solid rgba(212,183,126,.1);
  backdrop-filter:var(--blur-light);
}

.game-hint.active{ 
  color:var(--gold-bright); 
  background:rgba(212,183,126,.12); 
  border-color:rgba(212,183,126,.3);
  font-weight:600;
  font-style:normal;
}

/* 전투 초상화 */
.battle-portrait{
  position:relative; 
  min-height:340px; 
  display:flex; 
  align-items:flex-end; 
  justify-content:center;
  border:1px solid var(--border-1); 
  border-radius:var(--radius-large);
  background:
    radial-gradient(circle at 30% 20%, rgba(212,183,126,.08), transparent 60%), 
    radial-gradient(circle at 70% 80%, rgba(212,183,126,.04), transparent 50%),
    linear-gradient(180deg, rgba(5,20,38,.92), rgba(7,28,48,.96), rgba(10,33,56,.92));
  overflow:hidden; 
  backdrop-filter:var(--blur-light);
  box-shadow:var(--shadow-medium), var(--shadow-inset);
}

.portrait-character{
  position:absolute; 
  bottom:0; 
  width:min(44%, 320px); 
  aspect-ratio:3/4;
  background:linear-gradient(135deg, var(--midnight), var(--navy-mist)) center/contain no-repeat;
  border:2px solid var(--border-1); 
  border-radius:14px 14px 0 0;
  box-shadow:var(--shadow-medium), inset 0 2px 0 rgba(255,255,255,.05); 
  transition:all .4s var(--ease-smooth);
  filter:brightness(.88);
}

.portrait-character.left{ left:8%; }
.portrait-character.right{ right:8%; }

.portrait-character.active{ 
  transform:translateY(-4px) scale(1.02); 
  border-color:var(--gold-bright); 
  filter:brightness(1.1);
  box-shadow:
    var(--shadow-deep), 
    0 0 0 3px rgba(212,183,126,.5), 
    0 0 25px rgba(212,183,126,.3), 
    inset 0 2px 0 rgba(255,255,255,.1);
  animation:championGlow 4s ease-in-out infinite;
}

@keyframes championGlow{
  0%,100%{
    box-shadow:
      var(--shadow-deep), 
      0 0 0 3px rgba(212,183,126,.5), 
      0 0 25px rgba(212,183,126,.3), 
      inset 0 2px 0 rgba(255,255,255,.1)
  }
  50%{
    box-shadow:
      var(--shadow-deep), 
      0 0 0 4px rgba(212,183,126,.7), 
      0 0 35px rgba(212,183,126,.5), 
      inset 0 2px 0 rgba(255,255,255,.15)
  }
}

.portrait-stats{
  position:absolute; 
  bottom:18px; left:18px; right:18px; 
  display:flex; 
  gap:16px; 
  flex-wrap:wrap; 
  color:var(--text); 
  font-size:14px; 
  font-weight:600;
  background:rgba(10,33,56,.95); 
  border:1px solid var(--border-1); 
  border-radius:12px; 
  padding:14px 18px; 
  backdrop-filter:var(--blur-medium); 
  box-shadow:var(--shadow-soft);
}

.stat-item{ 
  display:flex; 
  align-items:center; 
  gap:8px; 
}

.stat-label{ 
  color:var(--text-muted); 
  font-size:12px; 
}

.stat-value{ 
  color:var(--gold-bright); 
  font-weight:800; 
}

/* 인증 섹션 */
.auth-section{
  background:linear-gradient(
    145deg, 
    rgba(212,183,126,.08) 0%, 
    rgba(16,21,35,.88) 30%, 
    rgba(26,32,44,.82) 100%
  );
  border:2px solid var(--gold); 
  border-radius:var(--radius); 
  padding:24px; 
  text-align:center; 
  backdrop-filter:var(--blur-strong);
  box-shadow:var(--shadow-deep), inset 0 2px 0 rgba(212,183,126,.2), var(--shadow-glow);
  position:relative; 
  overflow:hidden;
}

.auth-section::before{ 
  content:''; 
  position:absolute; 
  inset:0; 
  background:linear-gradient(
    135deg, 
    rgba(212,183,126,.1), 
    transparent 40%, 
    rgba(212,183,126,.05)
  ); 
  opacity:.6; 
}

.auth-title{ 
  font-family:var(--serif); 
  font-size:26px; 
  font-weight:800; 
  color:var(--gold-bright); 
  margin-bottom:18px; 
  position:relative; 
  text-shadow:0 2px 8px rgba(212,183,126,.3);
}

.auth-form{ 
  display:grid; 
  gap:14px; 
  max-width:420px; 
  margin:0 auto; 
  position:relative; 
}

.auth-row{ 
  display:grid; 
  grid-template-columns:1fr 1fr; 
  gap:12px; 
}

@media (max-width:600px){ 
  .auth-row{ 
    grid-template-columns:1fr; 
  } 
}

/* 중앙 섹션 */
.center-section{ 
  display:grid; 
  grid-template-rows:auto 1fr auto; 
  gap:16px; 
  min-height:650px; 
}

.player-info-bar{
  background:linear-gradient(
    145deg, 
    rgba(16,21,35,.92) 0%, 
    rgba(26,32,44,.88) 50%, 
    rgba(16,21,35,.92) 100%
  );
  border:1px solid var(--border-2); 
  border-radius:var(--radius); 
  padding:20px; 
  backdrop-filter:var(--blur-medium);
  box-shadow:var(--shadow-medium), var(--shadow-inset), var(--shadow-glow);
  position:relative;
}

.player-info-bar::before{
  content:''; 
  position:absolute; 
  top:0; left:24px; right:24px; height:1px; 
  background:linear-gradient(
    90deg, 
    transparent, 
    var(--gold-subtle) 40%, 
    var(--gold) 50%, 
    var(--gold-subtle) 60%, 
    transparent
  );
  opacity:.8;
}

.info-header{ 
  display:flex; 
  justify-content:space-between; 
  align-items:center; 
  margin-bottom:14px; 
}

.player-name{ 
  font-family:var(--serif); 
  font-size:24px; 
  font-weight:800; 
  color:var(--gold-bright); 
  text-shadow:0 2px 8px rgba(212,183,126,.3); 
}

.player-team{ 
  font-size:13px; 
  color:var(--text-dim); 
  font-weight:600; 
  padding:5px 14px; 
  background:rgba(212,183,126,.1); 
  border:1px solid rgba(212,183,126,.3); 
  border-radius:999px; 
  letter-spacing:.01em;
}

.turn-status{ 
  font-size:16px; 
  font-weight:700; 
  padding:8px 18px; 
  border-radius:999px; 
  border:1px solid var(--border-1); 
  background:rgba(26,32,44,.8); 
  color:var(--text-dim); 
  transition:all var(--transition-normal);
  backdrop-filter:var(--blur-light);
}

.turn-status.active{ 
  background:linear-gradient(135deg, var(--gold-bright), var(--gold-dark)); 
  color:var(--deep-navy); 
  border-color:var(--gold-bright); 
  box-shadow:0 0 18px rgba(212,183,126,.5), 0 0 8px rgba(212,183,126,.3) inset;
  animation:turnPulse 2.5s ease-in-out infinite; 
  font-weight:800;
}

@keyframes turnPulse{ 
  0%,100%{
    box-shadow:0 0 18px rgba(212,183,126,.5), 0 0 8px rgba(212,183,126,.3) inset
  } 
  50%{
    box-shadow:0 0 26px rgba(212,183,126,.7), 0 0 12px rgba(212,183,126,.5) inset
  } 
}

.action-bar{ 
  display:flex; 
  gap:12px; 
  flex-wrap:wrap; 
  justify-content:center; 
  margin-top:12px; 
}

.action-btn{
  padding:14px 20px; 
  font-size:14px; 
  font-weight:700; 
  border-radius:var(--radius-small); 
  border:2px solid var(--border-2);
  background:linear-gradient(
    145deg, 
    rgba(42,52,65,.9), 
    rgba(26,32,44,.9)
  ); 
  color:var(--text); 
  cursor:pointer; 
  transition:all var(--transition-normal); 
  position:relative; 
  overflow:hidden; 
  min-width:90px;
  backdrop-filter:var(--blur-light);
  box-shadow:var(--shadow-subtle);
}

.action-btn::before{ 
  content:''; 
  position:absolute; 
  inset:0; 
  background:linear-gradient(
    135deg, 
    rgba(212,183,126,.15), 
    transparent 50%, 
    rgba(212,183,126,.1)
  ); 
  opacity:0; 
  transition:opacity var(--transition-normal); 
}

.action-btn:hover:not(:disabled){ 
  transform:translateY(-3px); 
  border-color:var(--gold); 
  box-shadow:var(--shadow-medium), 0 0 20px rgba(212,183,126,.25); 
  color:var(--gold-bright);
}

.action-btn:hover:not(:disabled)::before{ 
  opacity:1; 
}

.action-btn:disabled{ 
  opacity:.4; 
  cursor:not-allowed; 
  transform:none; 
}

.action-btn.primary{ 
  background:linear-gradient(145deg, var(--gold-bright), var(--gold-dark)); 
  color:var(--deep-navy); 
  border-color:var(--gold); 
  font-weight:800; 
  box-shadow:var(--shadow-soft), 0 0 15px rgba(212,183,126,.2);
}

.action-btn.primary:hover:not(:disabled){
  background:linear-gradient(145deg, var(--gold-shimmer), var(--gold));
  box-shadow:var(--shadow-medium), 0 0 25px rgba(212,183,126,.4);
  transform:translateY(-3px) scale(1.02);
}

.game-hint{ 
  text-align:center; 
  color:var(--text-muted); 
  font-size:13px; 
  font-style:italic; 
  margin-top:12px; 
  padding:10px; 
  background:rgba(212,183,126,.05); 
  border-radius:var(--radius-small); 
  border:1px solid rgba(212,183,126,.1);
  backdrop-filter:var(--blur-light);
}

.game-hint.active{ 
  color:var(--gold-bright); 
  background:rgba(212,183,126,.12); 
  border-color:rgba(212,183,126,.3);
  font-weight:600;
  font-style:normal;
}

/* 전투 초상화 */
.battle-portrait{
  position:relative; 
  min-height:340px; 
  display:flex; 
  align-items:flex-end; 
  justify-content:center;
  border:1px solid var(--border-1); 
  border-radius:var(--radius-large);
  background:
    radial-gradient(circle at 30% 20%, rgba(212,183,126,.08), transparent 60%), 
    radial-gradient(circle at 70% 80%, rgba(212,183,126,.04), transparent 50%),
    linear-gradient(180deg, rgba(5,20,38,.92), rgba(7,28,48,.96), rgba(10,33,56,.92));
  overflow:hidden; 
  backdrop-filter:var(--blur-light);
  box-shadow:var(--shadow-medium), var(--shadow-inset);
}

.portrait-character{
  position:absolute; 
  bottom:0; 
  width:min(44%, 320px); 
  aspect-ratio:3/4;
  background:linear-gradient(135deg, var(--midnight), var(--navy-mist)) center/contain no-repeat;
  border:2px solid var(--border-1); 
  border-radius:14px 14px 0 0;
  box-shadow:var(--shadow-medium), inset 0 2px 0 rgba(255,255,255,.05); 
  transition:all .4s var(--ease-smooth);
  filter:brightness(.88);
}

.portrait-character.left{ left:8%; }
.portrait-character.right{ right:8%; }

.portrait-character.active{ 
  transform:translateY(-4px) scale(1.02); 
  border-color:var(--gold-bright); 
  filter:brightness(1.1);
  box-shadow:
    var(--shadow-deep), 
    0 0 0 3px rgba(212,183,126,.5), 
    0 0 25px rgba(212,183,126,.3), 
    inset 0 2px 0 rgba(255,255,255,.1);
  animation:championGlow 4s ease-in-out infinite;
}

@keyframes championGlow{
  0%,100%{
    box-shadow:
      var(--shadow-deep), 
      0 0 0 3px rgba(212,183,126,.5), 
      0 0 25px rgba(212,183,126,.3), 
      inset 0 2px 0 rgba(255,255,255,.1)
  }
  50%{
    box-shadow:
      var(--shadow-deep), 
      0 0 0 4px rgba(212,183,126,.7), 
      0 0 35px rgba(212,183,126,.5), 
      inset 0 2px 0 rgba(255,255,255,.15)
  }
}

.portrait-stats{
  position:absolute; 
  bottom:18px; left:18px; right:18px; 
  display:flex; 
  gap:16px; 
  flex-wrap:wrap; 
  color:var(--text); 
  font-size:14px; 
  font-weight:600;
  background:rgba(10,33,56,.95); 
  border:1px solid var(--border-1); 
  border-radius:12px; 
  padding:14px 18px; 
  backdrop-filter:var(--blur-medium); 
  box-shadow:var(--shadow-soft);
}

.stat-item{ 
  display:flex; 
  align-items:center; 
  gap:8px; 
}

.stat-label{ 
  color:var(--text-muted); 
  font-size:12px; 
}

.stat-value{ 
  color:var(--gold-bright); 
  font-weight:800; 
}
