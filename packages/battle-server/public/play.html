<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>PYXIS 플레이어</title>
<link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700;800;900&family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link href="/assets/pyxis-theme.css" rel="stylesheet">
<script src="/socket.io/socket.io.js"></script>
<style>
/* 플레이어 전용 스타일 - 관리자 페이지 디자인 통일 */
.player-header{
  position:relative; 
  padding:32px 20px 16px; 
  overflow:hidden;
}

.player-header::before{
  content:''; 
  position:absolute; 
  inset:-40% -16% auto -16%; 
  height:360px;
  background:conic-gradient(from 0deg at 50% 50%, 
    rgba(212,183,126,.18) 0deg, 
    rgba(212,183,126,.06) 60deg,
    rgba(212,183,126,.22) 120deg, 
    rgba(212,183,126,.04) 180deg, 
    rgba(212,183,126,.18) 240deg, 
    rgba(212,183,126,.06) 300deg, 
    rgba(212,183,126,.18) 360deg
  );
  filter:blur(60px);
  animation:playerOrbit 45s linear infinite;
  opacity:.7;
  pointer-events:none;
  z-index:-1;
}

@keyframes playerOrbit{
  0%{transform:rotate(0deg) scale(1)}
  25%{transform:rotate(90deg) scale(1.08)}
  50%{transform:rotate(180deg) scale(.92)}
  75%{transform:rotate(270deg) scale(1.12)}
  100%{transform:rotate(360deg) scale(1)}
}

.player-brand{
  font-family:var(--serif); 
  font-weight:900; 
  letter-spacing:.08em; 
  font-size:36px;
  background:linear-gradient(135deg, 
    var(--gold-bright) 0%, 
    var(--gold-shimmer) 25%, 
    var(--gold) 50%, 
    var(--gold-light) 75%,
    var(--gold-bright) 100%
  );
  background-size:350% 350%;
  -webkit-background-clip:text; 
  background-clip:text; 
  -webkit-text-fill-color:transparent;
  animation:playerShimmer 4s ease-in-out infinite;
  position:relative;
  display:inline-block;
  text-shadow:0 4px 18px rgba(212,183,126,.35);
}

@keyframes playerShimmer{
  0%,100%{
    background-position:0% 50%;
    filter:brightness(1);
    transform:scale(1);
  }
  50%{
    background-position:100% 50%;
    filter:brightness(1.2);
    transform:scale(1.025);
  }
}

.player-brand::before{
  content:'✦';
  position:absolute;
  top:-8px;
  left:-22px;
  font-size:16px;
  color:var(--gold);
  animation:twinkle 2s ease-in-out infinite;
  opacity:.8;
}

.player-brand::after{
  content:'전투자';
  position:absolute;
  top:-8px;
  right:-58px;
  font-size:12px;
  font-weight:700;
  color:var(--gold);
  background:linear-gradient(135deg, rgba(212,183,126,.2), rgba(212,183,126,.1));
  border:1px solid var(--gold);
  border-radius:999px;
  padding:4px 12px;
  letter-spacing:.02em;
  box-shadow:0 3px 10px rgba(212,183,126,.15);
}

@keyframes twinkle{
  0%,100%{ opacity:.3; transform:scale(.8) rotate(0deg); }
  50%{ opacity:1; transform:scale(1.2) rotate(180deg); }
}

.player-stage{
  display:grid; 
  grid-template-columns:280px 1fr 340px; 
  gap:20px; 
  padding:18px 22px;
  max-width:1500px;
  margin:0 auto;
}

@media (max-width:1300px){
  .player-stage{
    grid-template-columns:1fr;
    gap:16px;
  }
}

/* 인증 섹션 */
.auth-section{
  background:linear-gradient(
    145deg, 
    rgba(212,183,126,.08) 0%, 
    rgba(16,21,35,.88) 30%, 
    rgba(26,32,44,.82) 100%
  );
  border:2px solid var(--gold); 
  border-radius:var(--radius); 
  padding:24px; 
  text-align:center; 
  backdrop-filter:var(--blur-strong);
  box-shadow:var(--shadow-deep), inset 0 2px 0 rgba(212,183,126,.2), var(--shadow-glow);
  position:relative; 
  overflow:hidden;
}

.auth-section::before{ 
  content:''; 
  position:absolute; 
  inset:0; 
  background:linear-gradient(
    135deg, 
    rgba(212,183,126,.1), 
    transparent 40%, 
    rgba(212,183,126,.05)
  ); 
  opacity:.6; 
}

.auth-title{ 
  font-family:var(--serif); 
  font-size:26px; 
  font-weight:800; 
  color:var(--gold-bright); 
  margin-bottom:18px; 
  position:relative; 
  text-shadow:0 2px 8px rgba(212,183,126,.3);
}

.auth-form{ 
  display:grid; 
  gap:14px; 
  max-width:420px; 
  margin:0 auto; 
  position:relative; 
}

.auth-row{ 
  display:grid; 
  grid-template-columns:1fr 1fr; 
  gap:12px; 
}

@media (max-width:600px){ 
  .auth-row{ 
    grid-template-columns:1fr; 
  } 
}

/* 중앙 섹션 */
.center-section{ 
  display:grid; 
  grid-template-rows:auto 1fr auto; 
  gap:16px; 
  min-height:650px; 
}

.player-info-bar{
  background:linear-gradient(
    145deg, 
    rgba(16,21,35,.92) 0%, 
    rgba(26,32,44,.88) 50%, 
    rgba(16,21,35,.92) 100%
  );
  border:1px solid var(--border-2); 
  border-radius:var(--radius); 
  padding:20px; 
  backdrop-filter:var(--blur-medium);
  box-shadow:var(--shadow-medium), var(--shadow-inset), var(--shadow-glow);
  position:relative;
}

.player-info-bar::before{
  content:''; 
  position:absolute; 
  top:0; left:24px; right:24px; height:1px; 
  background:linear-gradient(
    90deg, 
    transparent, 
    var(--gold-subtle) 40%, 
    var(--gold) 50%, 
    var(--gold-subtle) 60%, 
    transparent
  );
  opacity:.8;
}

.info-header{ 
  display:flex; 
  justify-content:space-between; 
  align-items:center; 
  margin-bottom:14px; 
}

.player-name{ 
  font-family:var(--serif); 
  font-size:24px; 
  font-weight:800; 
  color:var(--gold-bright); 
  text-shadow:0 2px 8px rgba(212,183,126,.3); 
}

.player-team{ 
  font-size:13px; 
  color:var(--text-dim); 
  font-weight:600; 
  padding:5px 14px; 
  background:rgba(212,183,126,.1); 
  border:1px solid rgba(212,183,126,.3); 
  border-radius:999px; 
  letter-spacing:.01em;
}

.turn-status{ 
  font-size:16px; 
  font-weight:700; 
  padding:8px 18px; 
  border-radius:999px; 
  border:1px solid var(--border-1); 
  background:rgba(26,32,44,.8); 
  color:var(--text-dim); 
  transition:all var(--transition-normal);
  backdrop-filter:var(--blur-light);
}

.turn-status.active{ 
  background:linear-gradient(135deg, var(--gold-bright), var(--gold-dark)); 
  color:var(--deep-navy); 
  border-color:var(--gold-bright); 
  box-shadow:0 0 18px rgba(212,183,126,.5), 0 0 8px rgba(212,183,126,.3) inset;
  animation:turnPulse 2.5s ease-in-out infinite; 
  font-weight:800;
}

@keyframes turnPulse{ 
  0%,100%{
    box-shadow:0 0 18px rgba(212,183,126,.5), 0 0 8px rgba(212,183,126,.3) inset
  } 
  50%{
    box-shadow:0 0 26px rgba(212,183,126,.7), 0 0 12px rgba(212,183,126,.5) inset
  } 
}

.action-bar{ 
  display:flex; 
  gap:12px; 
  flex-wrap:wrap; 
  justify-content:center; 
  margin-top:12px; 
}

.action-btn{
  padding:14px 20px; 
  font-size:14px; 
  font-weight:700; 
  border-radius:var(--radius-small); 
  border:2px solid var(--border-2);
  background:linear-gradient(
    145deg, 
    rgba(42,52,65,.9), 
    rgba(26,32,44,.9)
  ); 
  color:var(--text); 
  cursor:pointer; 
  transition:all var(--transition-normal); 
  position:relative; 
  overflow:hidden; 
  min-width:90px;
  backdrop-filter:var(--blur-light);
  box-shadow:var(--shadow-subtle);
}

.action-btn::before{ 
  content:''; 
  position:absolute; 
  inset:0; 
  background:linear-gradient(
    135deg, 
    rgba(212,183,126,.15), 
    transparent 50%, 
    rgba(212,183,126,.1)
  ); 
  opacity:0; 
  transition:opacity var(--transition-normal); 
}

.action-btn:hover:not(:disabled){ 
  transform:translateY(-3px); 
  border-color:var(--gold); 
  box-shadow:var(--shadow-medium), 0 0 20px rgba(212,183,126,.25); 
  color:var(--gold-bright);
}

.action-btn:hover:not(:disabled)::before{ 
  opacity:1; 
}

.action-btn:disabled{ 
  opacity:.4; 
  cursor:not-allowed; 
  transform:none; 
}

.action-btn.primary{ 
  background:linear-gradient(145deg, var(--gold-bright), var(--gold-dark)); 
  color:var(--deep-navy); 
  border-color:var(--gold); 
  font-weight:800; 
  box-shadow:var(--shadow-soft), 0 0 15px rgba(212,183,126,.2);
}

.action-btn.primary:hover:not(:disabled){
  background:linear-gradient(145deg, var(--gold-shimmer), var(--gold));
  box-shadow:var(--shadow-medium), 0 0 25px rgba(212,183,126,.4);
  transform:translateY(-3px) scale(1.02);
}

.game-hint{ 
  text-align:center; 
  color:var(--text-muted); 
  font-size:13px; 
  font-style:italic; 
  margin-top:12px; 
  padding:10px; 
  background:rgba(212,183,126,.05); 
  border-radius:var(--radius-small); 
  border:1px solid rgba(212,183,126,.1);
  backdrop-filter:var(--blur-light);
}

.game-hint.active{ 
  color:var(--gold-bright); 
  background:rgba(212,183,126,.12); 
  border-color:rgba(212,183,126,.3);
  font-weight:600;
  font-style:normal;
}

/* 전투 초상화 */
.battle-portrait{
  position:relative; 
  min-height:340px; 
  display:flex; 
  align-items:flex-end; 
  justify-content:center;
  border:1px solid var(--border-1); 
  border-radius:var(--radius-large);
  background:
    radial-gradient(circle at 30% 20%, rgba(212,183,126,.08), transparent 60%), 
    radial-gradient(circle at 70% 80%, rgba(212,183,126,.04), transparent 50%),
    linear-gradient(180deg, rgba(5,20,38,.92), rgba(7,28,48,.96), rgba(10,33,56,.92));
  overflow:hidden; 
  backdrop-filter:var(--blur-light);
  box-shadow:var(--shadow-medium), var(--shadow-inset);
}

.portrait-character{
  position:absolute; 
  bottom:0; 
  width:min(44%, 320px); 
  aspect-ratio:3/4;
  background:linear-gradient(135deg, var(--midnight), var(--navy-mist)) center/contain no-repeat;
  border:2px solid var(--border-1); 
  border-radius:14px 14px 0 0;
  box-shadow:var(--shadow-medium), inset 0 2px 0 rgba(255,255,255,.05); 
  transition:all .4s var(--ease-smooth);
  filter:brightness(.88);
}

.portrait-character.left{ left:8%; }
.portrait-character.right{ right:8%; }

.portrait-character.active{ 
  transform:translateY(-4px) scale(1.02); 
  border-color:var(--gold-bright); 
  filter:brightness(1.1);
  box-shadow:
    var(--shadow-deep), 
    0 0 0 3px rgba(212,183,126,.5), 
    0 0 25px rgba(212,183,126,.3), 
    inset 0 2px 0 rgba(255,255,255,.1);
  animation:championGlow 4s ease-in-out infinite;
}

@keyframes championGlow{
  0%,100%{
    box-shadow:
      var(--shadow-deep), 
      0 0 0 3px rgba(212,183,126,.5), 
      0 0 25px rgba(212,183,126,.3), 
      inset 0 2px 0 rgba(255,255,255,.1)
  }
  50%{
    box-shadow:
      var(--shadow-deep), 
      0 0 0 4px rgba(212,183,126,.7), 
      0 0 35px rgba(212,183,126,.5), 
      inset 0 2px 0 rgba(255,255,255,.15)
  }
}

.portrait-stats{
  position:absolute; 
  bottom:18px; left:18px; right:18px; 
  display:flex; 
  gap:16px; 
  flex-wrap:wrap; 
  color:var(--text); 
  font-size:14px; 
  font-weight:600;
  background:rgba(10,33,56,.95); 
  border:1px solid var(--border-1); 
  border-radius:12px; 
  padding:14px 18px; 
  backdrop-filter:var(--blur-medium); 
  box-shadow:var(--shadow-soft);
}

.stat-item{ 
  display:flex; 
  align-items:center; 
  gap:8px; 
}

.stat-label{ 
  color:var(--text-muted); 
  font-size:12px; 
}

.stat-value{ 
  color:var(--gold-bright); 
  font-weight:800; 
}

/* 인증 섹션 */
.auth-section{
  background:linear-gradient(
    145deg, 
    rgba(212,183,126,.08) 0%, 
    rgba(16,21,35,.88) 30%, 
    rgba(26,32,44,.82) 100%
  );
  border:2px solid var(--gold); 
  border-radius:var(--radius); 
  padding:24px; 
  text-align:center; 
  backdrop-filter:var(--blur-strong);
  box-shadow:var(--shadow-deep), inset 0 2px 0 rgba(212,183,126,.2), var(--shadow-glow);
  position:relative; 
  overflow:hidden;
}

.auth-section::before{ 
  content:''; 
  position:absolute; 
  inset:0; 
  background:linear-gradient(
    135deg, 
    rgba(212,183,126,.1), 
    transparent 40%, 
    rgba(212,183,126,.05)
  ); 
  opacity:.6; 
}

.auth-title{ 
  font-family:var(--serif); 
  font-size:26px; 
  font-weight:800; 
  color:var(--gold-bright); 
  margin-bottom:18px; 
  position:relative; 
  text-shadow:0 2px 8px rgba(212,183,126,.3);
}

.auth-form{ 
  display:grid; 
  gap:14px; 
  max-width:420px; 
  margin:0 auto; 
  position:relative; 
}

.auth-row{ 
  display:grid; 
  grid-template-columns:1fr 1fr; 
  gap:12px; 
}

@media (max-width:600px){ 
  .auth-row{ 
    grid-template-columns:1fr; 
  } 
}

/* 중앙 섹션 */
.center-section{ 
  display:grid; 
  grid-template-rows:auto 1fr auto; 
  gap:16px; 
  min-height:650px; 
}

.player-info-bar{
  background:linear-gradient(
    145deg, 
    rgba(16,21,35,.92) 0%, 
    rgba(26,32,44,.88) 50%, 
    rgba(16,21,35,.92) 100%
  );
  border:1px solid var(--border-2); 
  border-radius:var(--radius); 
  padding:20px; 
  backdrop-filter:var(--blur-medium);
  box-shadow:var(--shadow-medium), var(--shadow-inset), var(--shadow-glow);
  position:relative;
}

.player-info-bar::before{
  content:''; 
  position:absolute; 
  top:0; left:24px; right:24px; height:1px; 
  background:linear-gradient(
    90deg, 
    transparent, 
    var(--gold-subtle) 40%, 
    var(--gold) 50%, 
    var(--gold-subtle) 60%, 
    transparent
  );
  opacity:.8;
}

.info-header{ 
  display:flex; 
  justify-content:space-between; 
  align-items:center; 
  margin-bottom:14px; 
}

.player-name{ 
  font-family:var(--serif); 
  font-size:24px; 
  font-weight:800; 
  color:var(--gold-bright); 
  text-shadow:0 2px 8px rgba(212,183,126,.3); 
}

.player-team{ 
  font-size:13px; 
  color:var(--text-dim); 
  font-weight:600; 
  padding:5px 14px; 
  background:rgba(212,183,126,.1); 
  border:1px solid rgba(212,183,126,.3); 
  border-radius:999px; 
  letter-spacing:.01em;
}

.turn-status{ 
  font-size:16px; 
  font-weight:700; 
  padding:8px 18px; 
  border-radius:999px; 
  border:1px solid var(--border-1); 
  background:rgba(26,32,44,.8); 
  color:var(--text-dim); 
  transition:all var(--transition-normal);
  backdrop-filter:var(--blur-light);
}

.turn-status.active{ 
  background:linear-gradient(135deg, var(--gold-bright), var(--gold-dark)); 
  color:var(--deep-navy); 
  border-color:var(--gold-bright); 
  box-shadow:0 0 18px rgba(212,183,126,.5), 0 0 8px rgba(212,183,126,.3) inset;
  animation:turnPulse 2.5s ease-in-out infinite; 
  font-weight:800;
}

@keyframes turnPulse{ 
  0%,100%{
    box-shadow:0 0 18px rgba(212,183,126,.5), 0 0 8px rgba(212,183,126,.3) inset
  } 
  50%{
    box-shadow:0 0 26px rgba(212,183,126,.7), 0 0 12px rgba(212,183,126,.5) inset
  } 
}

.action-bar{ 
  display:flex; 
  gap:12px; 
  flex-wrap:wrap; 
  justify-content:center; 
  margin-top:12px; 
}

.action-btn{
  padding:14px 20px; 
  font-size:14px; 
  font-weight:700; 
  border-radius:var(--radius-small); 
  border:2px solid var(--border-2);
  background:linear-gradient(
    145deg, 
    rgba(42,52,65,.9), 
    rgba(26,32,44,.9)
  ); 
  color:var(--text); 
  cursor:pointer; 
  transition:all var(--transition-normal); 
  position:relative; 
  overflow:hidden; 
  min-width:90px;
  backdrop-filter:var(--blur-light);
  box-shadow:var(--shadow-subtle);
}

.action-btn::before{ 
  content:''; 
  position:absolute; 
  inset:0; 
  background:linear-gradient(
    135deg, 
    rgba(212,183,126,.15), 
    transparent 50%, 
    rgba(212,183,126,.1)
  ); 
  opacity:0; 
  transition:opacity var(--transition-normal); 
}

.action-btn:hover:not(:disabled){ 
  transform:translateY(-3px); 
  border-color:var(--gold); 
  box-shadow:var(--shadow-medium), 0 0 20px rgba(212,183,126,.25); 
  color:var(--gold-bright);
}

.action-btn:hover:not(:disabled)::before{ 
  opacity:1; 
}

.action-btn:disabled{ 
  opacity:.4; 
  cursor:not-allowed; 
  transform:none; 
}

.action-btn.primary{ 
  background:linear-gradient(145deg, var(--gold-bright), var(--gold-dark)); 
  color:var(--deep-navy); 
  border-color:var(--gold); 
  font-weight:800; 
  box-shadow:var(--shadow-soft), 0 0 15px rgba(212,183,126,.2);
}

.action-btn.primary:hover:not(:disabled){
  background:linear-gradient(145deg, var(--gold-shimmer), var(--gold));
  box-shadow:var(--shadow-medium), 0 0 25px rgba(212,183,126,.4);
  transform:translateY(-3px) scale(1.02);
}

.game-hint{ 
  text-align:center; 
  color:var(--text-muted); 
  font-size:13px; 
  font-style:italic; 
  margin-top:12px; 
  padding:10px; 
  background:rgba(212,183,126,.05); 
  border-radius:var(--radius-small); 
  border:1px solid rgba(212,183,126,.1);
  backdrop-filter:var(--blur-light);
}

.game-hint.active{ 
  color:var(--gold-bright); 
  background:rgba(212,183,126,.12); 
  border-color:rgba(212,183,126,.3);
  font-weight:600;
  font-style:normal;
}

/* 전투 초상화 */
.battle-portrait{
  position:relative; 
  min-height:340px; 
  display:flex; 
  align-items:flex-end; 
  justify-content:center;
  border:1px solid var(--border-1); 
  border-radius:var(--radius-large);
  background:
    radial-gradient(circle at 30% 20%, rgba(212,183,126,.08), transparent 60%), 
    radial-gradient(circle at 70% 80%, rgba(212,183,126,.04), transparent 50%),
    linear-gradient(180deg, rgba(5,20,38,.92), rgba(7,28,48,.96), rgba(10,33,56,.92));
  overflow:hidden; 
  backdrop-filter:var(--blur-light);
  box-shadow:var(--shadow-medium), var(--shadow-inset);
}

.portrait-character{
  position:absolute; 
  bottom:0; 
  width:min(44%, 320px); 
  aspect-ratio:3/4;
  background:linear-gradient(135deg, var(--midnight), var(--navy-mist)) center/contain no-repeat;
  border:2px solid var(--border-1); 
  border-radius:14px 14px 0 0;
  box-shadow:var(--shadow-medium), inset 0 2px 0 rgba(255,255,255,.05); 
  transition:all .4s var(--ease-smooth);
  filter:brightness(.88);
}

.portrait-character.left{ left:8%; }
.portrait-character.right{ right:8%; }

.portrait-character.active{ 
  transform:translateY(-4px) scale(1.02); 
  border-color:var(--gold-bright); 
  filter:brightness(1.1);
  box-shadow:
    var(--shadow-deep), 
    0 0 0 3px rgba(212,183,126,.5), 
    0 0 25px rgba(212,183,126,.3), 
    inset 0 2px 0 rgba(255,255,255,.1);
  animation:championGlow 4s ease-in-out infinite;
}

@keyframes championGlow{
  0%,100%{
    box-shadow:
      var(--shadow-deep), 
      0 0 0 3px rgba(212,183,126,.5), 
      0 0 25px rgba(212,183,126,.3), 
      inset 0 2px 0 rgba(255,255,255,.1)
  }
  50%{
    box-shadow:
      var(--shadow-deep), 
      0 0 0 4px rgba(212,183,126,.7), 
      0 0 35px rgba(212,183,126,.5), 
      inset 0 2px 0 rgba(255,255,255,.15)
  }
}

.portrait-stats{
  position:absolute; 
  bottom:18px; left:18px; right:18px; 
  display:flex; 
  gap:16px; 
  flex-wrap:wrap; 
  color:var(--text); 
  font-size:14px; 
  font-weight:600;
  background:rgba(10,33,56,.95); 
  border:1px solid var(--border-1); 
  border-radius:12px; 
  padding:14px 18px; 
  backdrop-filter:var(--blur-medium); 
  box-shadow:var(--shadow-soft);
}

.stat-item{ 
  display:flex; 
  align-items:center; 
  gap:8px; 
}

.stat-label{ 
  color:var(--text-muted); 
  font-size:12px; 
}

.stat-value{ 
  color:var(--gold-bright); 
  font-weight:800; 
}

/* 사이드 패널 */
.team-panel{ 
  display:flex; 
  flex-direction:column; 
  gap:14px; 
}

.team-header{ 
  text-align:center; 
  font-family:var(--serif); 
  font-weight:800; 
  font-size:17px; 
  color:var(--gold-bright);
  padding:12px 18px; 
  background:linear-gradient(
    135deg, 
    rgba(212,183,126,.15), 
    rgba(212,183,126,.08)
  ); 
  border:1px solid var(--border-1); 
  border-radius:var(--radius); 
  position:relative;
  text-shadow:0 2px 6px rgba(212,183,126,.3);
  box-shadow:var(--shadow-subtle);
}

.team-header::before{ 
  content:''; 
  position:absolute; 
  top:0; left:25%; right:25%; height:1px; 
  background:linear-gradient(90deg, transparent, var(--gold-bright), transparent);
}

.unit{ 
  display:flex; 
  gap:14px; 
  align-items:center; 
  border:1px solid var(--border-1); 
  border-radius:var(--radius); 
  padding:12px; 
  background:rgba(16,21,35,.8); 
  transition:all var(--transition-normal); 
  position:relative;
  box-shadow:var(--shadow-subtle);
  backdrop-filter:var(--blur-light);
}

.unit::before{ 
  content:''; 
  position:absolute; 
  inset:0; 
  background:linear-gradient(
    135deg, 
    transparent, 
    rgba(212,183,126,.04), 
    transparent
  ); 
  opacity:0; 
  transition:opacity var(--transition-normal); 
  border-radius:inherit; 
}

.unit:hover{ 
  border-color:var(--border-2); 
  transform:translateY(-2px); 
  box-shadow:var(--shadow-soft), var(--shadow-glow); 
}

.unit:hover::before{ 
  opacity:1; 
}

.unit.active{ 
  border-color:var(--gold); 
  background:rgba(212,183,126,.08); 
  box-shadow:
    var(--shadow-soft), 
    0 0 0 1px rgba(212,183,126,.3), 
    var(--shadow-glow);
  animation:activeUnit 3s ease-in-out infinite; 
}

@keyframes activeUnit{
  0%,100%{
    box-shadow:
      var(--shadow-soft), 
      0 0 0 1px rgba(212,183,126,.3), 
      var(--shadow-glow)
  }
  50%{
    box-shadow:
      var(--shadow-soft), 
      0 0 0 2px rgba(212,183,126,.5), 
      0 0 20px rgba(212,183,126,.25)
  }
}

.unit.dead{ 
  opacity:.5; 
  filter:grayscale(.8); 
  border-style:dashed; 
}

.unit-avatar{ 
  width:54px; 
  height:54px; 
  border-radius:var(--radius-small); 
  background:linear-gradient(135deg, var(--midnight), var(--navy-mist)) center/cover no-repeat; 
  border:2px solid var(--border-1); 
  position:relative; 
  overflow:hidden;
  box-shadow:var(--shadow-subtle);
}

.unit-avatar::after{ 
  content:''; 
  position:absolute; 
  inset:0; 
  background:linear-gradient(
    135deg, 
    transparent 20%, 
    rgba(212,183,126,.08) 80%
  ); 
  opacity:.8; 
}

.unit-info{ 
  flex:1; 
  min-width:0; 
}

.unit-name{ 
  font-weight:800; 
  color:var(--text); 
  margin-bottom:6px; 
  font-size:15px; 
}

.unit-name.dead::after{ 
  content:' (불능)'; 
  color:var(--text-muted); 
  font-weight:400; 
  font-size:13px; 
}

.unit-hp{ 
  height:8px; 
  background:rgba(26,31,42,.9); 
  border-radius:4px; 
  overflow:hidden; 
  margin:6px 0; 
  position:relative; 
  box-shadow:inset 0 1px 3px rgba(0,0,0,.3); 
}

.unit-hp::after{ 
  content:''; 
  position:absolute; 
  inset:0; 
  background:linear-gradient(90deg, rgba(255,255,255,.15), transparent 40%); 
  pointer-events:none; 
}

.unit-hp-bar{ 
  display:block; 
  height:100%; 
  background:linear-gradient(90deg, var(--gold-dark), var(--gold-bright)); 
  transition:width .6s var(--ease-smooth); 
  position:relative; 
  box-shadow:0 0 8px rgba(212,183,126,.4); 
}

.unit-stats{ 
  font-size:11px; 
  color:var(--text-muted); 
  line-height:1.4; 
}

/* 채팅 패널 */
.chat-panel{ 
  display:flex; 
  flex-direction:column; 
  height:100%;
  min-height:600px;
}

.chat-header{ 
  display:flex; 
  gap:12px; 
  align-items:center; 
  margin-bottom:14px; 
}

.chat-channel{ 
  min-width:90px; 
  font-size:13px; 
  padding:10px 12px;
  font-weight:600;
}

.chat-input{ 
  flex:1; 
  font-size:13px; 
  padding:10px 14px;
  font-weight:500;
}

.chat-send{ 
  padding:10px 18px; 
  font-size:13px;
  font-weight:700;
}

.chat-messages{ 
  flex:1; 
  background:linear-gradient(
    145deg, 
    rgba(5,15,28,.96) 0%, 
    rgba(8,20,35,.93) 50%, 
    rgba(5,15,28,.96) 100%
  );
  border:1px solid var(--border-1); 
  border-radius:var(--radius); 
  padding:16px; 
  overflow-y:auto; 
  font-size:12px; 
  line-height:1.5; 
  min-height:240px; 
  backdrop-filter:var(--blur-light); 
  box-shadow:
    inset 0 3px 10px rgba(0,0,0,.4), 
    inset 0 1px 0 rgba(255,255,255,.02),
    var(--shadow-soft);
}

.chat-message{ 
  display:flex; 
  gap:10px; 
  align-items:baseline; 
  margin-bottom:8px; 
  padding:6px 10px; 
  border-radius:var(--radius-small); 
  transition:background var(--transition-fast);
  border-bottom:1px solid rgba(212,183,126,.03); 
}

.chat-message:hover{ 
  background:rgba(212,183,126,.06); 
}

.chat-time{ 
  font-size:10px; 
  color:var(--text-muted); 
  min-width:48px; 
  font-weight:600; 
}

.chat-content{ 
  flex:1; 
  color:var(--text-dim); 
}

.chat-message.system .chat-content{ 
  color:var(--gold-bright); 
  font-weight:600; 
}

.chat-message.team .chat-content{ 
  color:var(--info); 
}

.chat-message.cheer .chat-content{ 
  color:var(--success);
  font-weight:600;
}

/* 전투 로그 */
.battle-log{ 
  background:linear-gradient(
    145deg, 
    rgba(5,15,28,.96) 0%, 
    rgba(8,20,35,.93) 50%, 
    rgba(5,15,28,.96) 100%
  );
  border:1px solid var(--border-1); 
  border-radius:var(--radius); 
  padding:16px; 
  height:200px; 
  overflow-y:auto; 
  font-size:12px; 
  line-height:1.5; 
  backdrop-filter:var(--blur-light); 
  box-shadow:
    inset 0 3px 10px rgba(0,0,0,.4), 
    inset 0 1px 0 rgba(255,255,255,.02),
    var(--shadow-soft);
}

.log-entry{ 
  display:flex; 
  gap:10px; 
  align-items:baseline; 
  margin-bottom:8px; 
  padding:6px 10px; 
  border-radius:var(--radius-small); 
  transition:background var(--transition-fast); 
}

.log-entry:hover{ 
  background:rgba(212,183,126,.06); 
}

.log-entry .time{ 
  font-size:10px; 
  color:var(--text-muted); 
  min-width:48px; 
  font-weight:600; 
}

.log-entry .content{ 
  flex:1; 
  color:var(--text-dim); 
}

.log-entry.action .content{ 
  color:var(--text); 
  font-weight:600; 
}

.log-entry.system .content{ 
  color:var(--gold-bright); 
  font-weight:600; 
}

/* 타겟 선택 오버레이 */
.target-overlay{ 
  position:fixed; 
  inset:0; 
  display:none; 
  align-items:center; 
  justify-content:center; 
  background:rgba(0,0,0,.8); 
  z-index:1000; 
  backdrop-filter:blur(8px); 
}

.target-panel{ 
  width:min(650px, 90vw); 
  background:linear-gradient(
    145deg, 
    rgba(16,21,35,.96) 0%, 
    rgba(26,32,44,.92) 50%, 
    rgba(16,21,35,.96) 100%
  ); 
  border:2px solid var(--gold); 
  border-radius:var(--radius-large); 
  padding:24px; 
  backdrop-filter:var(--blur-strong); 
  box-shadow:var(--shadow-deep), var(--shadow-glow); 
  animation:targetAppear .4s var(--ease-smooth); 
}

@keyframes targetAppear{ 
  from{
    opacity:0; 
    transform:scale(.9) translateY(-30px)
  } 
  to{
    opacity:1; 
    transform:scale(1) translateY(0)
  } 
}

.target-title{ 
  font-family:var(--serif); 
  font-size:22px; 
  font-weight:800; 
  color:var(--gold-bright); 
  text-align:center; 
  margin-bottom:20px;
  text-shadow:0 2px 8px rgba(212,183,126,.3);
}

.target-list{ 
  display:grid; 
  grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)); 
  gap:14px; 
  margin-bottom:20px; 
}

.target-card{ 
  border:1px solid var(--border-1); 
  border-radius:var(--radius); 
  padding:16px; 
  background:rgba(42,52,65,.7); 
  cursor:pointer; 
  transition:all var(--transition-normal); 
  text-align:center;
  backdrop-filter:var(--blur-light);
  box-shadow:var(--shadow-subtle);
}

.target-card:hover:not(.disabled){ 
  border-color:var(--gold); 
  background:rgba(212,183,126,.1); 
  transform:translateY(-2px); 
  box-shadow:var(--shadow-soft), var(--shadow-glow); 
}

.target-card.disabled{ 
  opacity:.4; 
  cursor:not-allowed; 
}

.target-name{ 
  font-weight:700; 
  margin-bottom:6px;
  color:var(--text);
}

.target-hp{ 
  font-size:12px; 
  color:var(--text-muted); 
}

.target-actions{ 
  display:flex; 
  justify-content:center; 
  gap:14px; 
}

/* 단축키 힌트 */
.hotkey-hint{ 
  font-size:10px; 
  color:var(--text-muted); 
  margin-left:6px; 
  opacity:.7; 
}

/* 스크롤바 커스터마이징 */
.chat-messages::-webkit-scrollbar, 
.battle-log::-webkit-scrollbar{ 
  width:8px; 
}

.chat-messages::-webkit-scrollbar-track, 
.battle-log::-webkit-scrollbar-track{ 
  background:rgba(5,15,28,.8); 
  border-radius:4px; 
}

.chat-messages::-webkit-scrollbar-thumb, 
.battle-log::-webkit-scrollbar-thumb{ 
  background:linear-gradient(to bottom, var(--gold), var(--gold-dark)); 
  border-radius:4px; 
  border:1px solid rgba(0,0,0,.2); 
}

.chat-messages::-webkit-scrollbar-thumb:hover, 
.battle-log::-webkit-scrollbar-thumb:hover{ 
  background:linear-gradient(to bottom, var(--gold-bright), var(--gold)); 
}

/* 특수 효과 */
.sparkle-effect{
  position:relative;
  overflow:hidden;
}

.sparkle-effect::before{
  content:'✧';
  position:absolute;
  top:12px;
  right:16px;
  color:var(--gold);
  font-size:11px;
  opacity:.5;
  animation:sparkle 3.5s ease-in-out infinite;
}

@keyframes sparkle{
  0%, 100%{ 
    opacity:.2; 
    transform:scale(.7) rotate(0deg); 
  }
  50%{ 
    opacity:1; 
    transform:scale(1.3) rotate(180deg); 
  }
}

.enhance-hover{
  position:relative;
  overflow:hidden;
}

.enhance-hover::after{
  content:'';
  position:absolute;
  top:0; left:-100%; right:100%; bottom:0;
  background:linear-gradient(
    90deg,
    transparent,
    rgba(212,183,126,.08),
    transparent
  );
  transition:all .6s ease;
}

.enhance-hover:hover::after{
  left:100%; right:-100%;
}

/* 연결 상태 표시 */
.connection-status{
  position:fixed;
  top:20px;
  left:20px;
  z-index:1000;
  display:flex;
  align-items:center;
  gap:8px;
  padding:8px 16px;
  background:rgba(16,21,35,.9);
  border:1px solid var(--border-1);
  border-radius:999px;
  font-size:12px;
  font-weight:600;
  backdrop-filter:var(--blur-medium);
  box-shadow:var(--shadow-soft);
}

.connection-dot{
  width:8px;
  height:8px;
  border-radius:50%;
  background:var(--danger);
  animation:connectionPulse 2s ease-in-out infinite;
}

.connection-dot.connected{
  background:var(--success);
}

.connection-dot.connecting{
  background:var(--warning);
}

@keyframes connectionPulse{
  0%,100%{ opacity:.6; transform:scale(1); }
  50%{ opacity:1; transform:scale(1.2); }
}

/* 피드백 애니메이션 */
.feedback-success{
  background:linear-gradient(135deg, var(--success), #219a52) !important;
  color:white !important;
  border-color:var(--success) !important;
  animation:feedbackPulse .8s var(--ease-bounce);
}

.feedback-error{
  background:linear-gradient(135deg, var(--danger), #c0392b) !important;
  color:white !important;
  border-color:var(--danger) !important;
  animation:feedbackShake .6s ease-in-out;
}

@keyframes feedbackPulse{
  0%{ transform:scale(1); }
  50%{ transform:scale(1.05); }
  100%{ transform:scale(1); }
}

@keyframes feedbackShake{
  0%, 100%{ transform:translateX(0); }
  25%{ transform:translateX(-4px); }
  75%{ transform:translateX(4px); }
}

/* 로딩 효과 */
.loading{
  opacity:.6;
  pointer-events:none;
  position:relative;
}

.loading::after{
  content:'';
  position:absolute;
  inset:0;
  background:linear-gradient(
    90deg, 
    transparent, 
    rgba(212,183,126,.12), 
    transparent
  );
  animation:shimmer 1.6s infinite;
  border-radius:inherit;
}

@keyframes shimmer{
  0%{ transform:translateX(-100%); }
  100%{ transform:translateX(100%); }
}

/* 반응형 디자인 */
@media (max-width:768px){
  .player-header{
    padding:28px 16px 12px;
  }
  
  .player-stage{
    padding:14px 18px;
    gap:14px;
  }
  
  .player-brand{
    font-size:30px;
  }
  
  .player-brand::after{
    top:-6px;
    right:-48px;
    font-size:11px;
    padding:3px 10px;
  }
  
  .action-bar{ 
    justify-content:stretch; 
  }
  
  .action-btn{ 
    flex:1; 
    min-width:auto; 
  }
  
  .portrait-stats{ 
    flex-direction:column; 
    gap:10px; 
  }
  
  .stat-item{ 
    justify-content:space-between; 
  }
  
  .target-list{ 
    grid-template-columns:1fr; 
  }
  
  .chat-header{
    flex-direction:column;
    gap:10px;
  }
  
  .chat-channel{
    width:100%;
    min-width:auto;
  }
  
  .connection-status{
    top:10px;
    left:10px;
    padding:6px 12px;
    font-size:11px;
  }
}

@media (max-width:480px){
  .player-header{
    padding:24px 12px 10px;
  }
  
  .player-stage{
    padding:12px 16px;
  }
  
  .player-brand{
    font-size:26px;
  }
  
  .auth-section{
    padding:20px;
  }
  
  .action-btn{
    padding:12px 16px;
    font-size:13px;
  }
  
  .portrait-character{
    width:min(50%, 280px);
  }
}
