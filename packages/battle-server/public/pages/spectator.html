<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PYXIS 관전 아레나</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Cinzel:wght@600;700&display=swap" rel="stylesheet" />

  <style>
    :root{
      --gold-1:#DCC7A2;
      --gold-2:#D4BA8D;
      --navy-1:#00080D;
      --navy-2:#001E35;

      --border-subtle: rgba(220,199,162,0.25);
      --glass-light: rgba(255,255,255,0.06);
      --glass-heavy: rgba(0, 8, 13, 0.55);

      --ok:#36d399;
      --warn:#fbbd23;
      --danger:#f87272;

      --ring: 0 0 0 2px rgba(220,199,162,0.35), 0 0 24px rgba(220,199,162,0.22);
      --drop: 0 10px 30px rgba(0,0,0,0.35);
      --soft: 0 6px 16px rgba(0,0,0,0.25);
    }

    html,body{height:100%}
    body{
      margin:0;
      color:#e8e8e8;
      background: radial-gradient(1000px 1000px at 10% -20%, rgba(212,186,141,0.10), transparent 60%),
                  radial-gradient(900px 900px at 110% 20%, rgba(0,30,53,0.55), transparent 50%),
                  linear-gradient(180deg, #00080D 0%, #00121C 80%, #00080D 100%);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple SD Gothic Neo", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      overflow-x:hidden;
    }

    .wrap{
      min-height:100%;
      display:flex;
      flex-direction:column;
    }

    /* Header */
    header{
      position:relative;
      padding:28px 16px 24px;
      text-align:center;
      overflow:hidden;
      background:
        radial-gradient(160% 140% at 50% -40%, rgba(255,255,255,0.06) 0%, transparent 60%),
        radial-gradient(60% 120% at 80% 0%, rgba(212,186,141,0.08) 0%, transparent 70%);
      backdrop-filter: blur(6px);
      border-bottom:1px solid var(--border-subtle);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
    }

    .brand{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:14px;
    }
    .brand-mark{
      width:44px; height:44px;
      border-radius:12px;
      background: linear-gradient(145deg, var(--navy-2), #001424);
      border:1px solid var(--border-subtle);
      box-shadow: var(--soft);
      position:relative;
      overflow:hidden;
    }
    .brand-mark::after{
      content:"";
      position:absolute; inset:-1px;
      background: conic-gradient(from 0deg, rgba(212,186,141,0.0), rgba(212,186,141,0.35), rgba(212,186,141,0.0) 35%);
      filter:blur(8px);
      animation: spin 14s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    .title{
      font-family:"Cinzel", serif;
      letter-spacing:0.08em;
      font-weight:700;
      font-size: clamp(20px, 2.4vw, 28px);
      background: linear-gradient(180deg, var(--gold-1), var(--gold-2) 65%, #b69f78);
      -webkit-background-clip:text;
      background-clip:text;
      color: transparent;
      position: relative;
    }
    .title .twinkle{
      position:absolute; left:0; right:0; top:-12px; height:12px; pointer-events:none;
      background:
        radial-gradient(4px 4px at 10% 50%, rgba(255,255,255,0.65), transparent 40%),
        radial-gradient(3px 3px at 45% 50%, rgba(255,255,255,0.45), transparent 50%),
        radial-gradient(4px 4px at 80% 50%, rgba(255,255,255,0.65), transparent 40%);
      animation: twinkle 2.2s ease-in-out infinite;
      opacity:.7;
    }
    @keyframes twinkle { 0%, 100% { transform: translateY(0); opacity:.6 } 50%{ transform: translateY(2px); opacity:1 } }

    .sub{
      margin-top:8px;
      font-family:"Playfair Display", serif;
      font-size:14px;
      color:#cfcfcf;
      opacity:.8;
    }

    /* Main three columns */
    main{
      padding:22px 14px 26px;
      max-width:1200px;
      margin:0 auto;
      width:100%;
      display:grid;
      grid-template-columns: 1fr minmax(220px, 320px) 1fr;
      gap:16px;
    }
    @media (max-width: 980px){
      main{ grid-template-columns: 1fr; }
    }

    .panel{
      background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      border:1px solid var(--border-subtle);
      border-top:1px solid rgba(255,255,255,0.10);
      border-radius:18px;
      padding:14px;
      backdrop-filter: blur(8px);
      box-shadow: var(--drop);
    }
    .panel h3{
      margin:0 0 10px 0;
      font-family:"Playfair Display", serif;
      font-weight:600;
      letter-spacing:.02em;
      color:var(--gold-1);
      font-size:16px;
      display:flex; align-items:center; justify-content:space-between;
    }
    .team-grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
    }

    .card{
      display:flex; gap:12px; align-items:center;
      background: linear-gradient(180deg, rgba(0,8,13,0.3), rgba(0,8,13,0.15));
      border:1px solid rgba(255,255,255,0.06);
      border-radius:14px;
      padding:10px;
      transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
      box-shadow: 0 6px 18px rgba(0,0,0,0.25);
    }
    .card:hover{ transform: translateY(-2px); border-color: rgba(220,199,162,0.35); box-shadow: 0 10px 28px rgba(0,0,0,0.35); }

    .avatar{
      width:48px; height:48px; border-radius:12px; flex:0 0 auto;
      background: radial-gradient(60% 80% at 50% 30%, rgba(212,186,141,0.35), rgba(0,8,13,0.6));
      border:1px solid rgba(220,199,162,0.25);
      overflow:hidden; display:grid; place-items:center; font-weight:700; color:#f2e8d2;
    }
    .info{ flex:1 1 auto; min-width:0; }
    .name{ font-weight:700; letter-spacing:.02em; font-size:14px; }
    .meta{ font-size:12px; opacity:.8; margin-top:2px; }

    .hpbar{
      margin-top:6px; width:100%; height:8px; border-radius:999px; background:rgba(255,255,255,0.06); overflow:hidden; border:1px solid rgba(255,255,255,0.08);
    }
    .hpbar > i{
      display:block; height:100%;
      background: linear-gradient(90deg, #3dd68c, #2fb579 50%, #1f8d60);
      width:50%;
      transition: width .35s ease;
    }

    .center-arena{
      position:relative;
      display:flex;
      flex-direction:column;
      gap:12px;
      align-items:stretch;
      justify-content:flex-start;
    }
    .arena-card{
      display:grid; place-items:center;
      min-height:260px;
      border-radius:18px;
      background: radial-gradient(70% 90% at 50% 20%, rgba(212,186,141,0.08), rgba(0,8,13,0.55) 70%),
                  linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
      border:1px solid var(--border-subtle);
      box-shadow: var(--drop);
      overflow:hidden;
      position:relative;
    }
    .arena-inner{
      display:flex; gap:18px; align-items:center; justify-content:center; flex-wrap:wrap;
      padding:18px;
    }
    .arena-hero{
      width:120px; height:120px; border-radius:18px; border:1px solid rgba(220,199,162,0.35);
      background: radial-gradient(60% 80% at 50% 35%, rgba(212,186,141,0.35), rgba(0,8,13,0.6));
      box-shadow: 0 12px 32px rgba(0,0,0,0.35), inset 0 0 24px rgba(212,186,141,0.12);
    }
    .turn-pill{
      position:absolute; top:12px; left:12px;
      font-size:12px; padding:6px 10px; border-radius:999px;
      background: rgba(0,30,53,0.65);
      border:1px solid rgba(220,199,162,0.35);
      color: var(--gold-1);
      letter-spacing:.02em;
      backdrop-filter: blur(6px);
    }

    .cheer{
      display:grid; grid-template-columns: repeat(3, 1fr); gap:10px;
    }
    @media (max-width: 420px){
      .cheer{ grid-template-columns: repeat(2, 1fr); }
    }
    .btn{
      appearance:none; border:none; cursor:pointer;
      border-radius:12px; padding:10px 12px; font-weight:700; letter-spacing:.02em;
      background: linear-gradient(180deg, rgba(212,186,141,0.18), rgba(212,186,141,0.08));
      color:#f3e9d3;
      border:1px solid rgba(220,199,162,0.35);
      position:relative; overflow:hidden;
      transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
      box-shadow: 0 6px 18px rgba(0,0,0,0.25);
    }
    .btn:hover{ transform: translateY(-1px); box-shadow: 0 10px 26px rgba(0,0,0,0.35); border-color: rgba(220,199,162,0.55); }
    .btn:active{ transform: translateY(0); }
    .btn.shimmer::after{
      content:""; position:absolute; top:0; bottom:0; width:40%;
      left:-50%; transform:skewX(-18deg);
      background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,0.28), rgba(255,255,255,0));
      animation: shine 1.8s linear infinite;
    }
    @keyframes shine { 0%{ left:-50% } 100%{ left:120% } }

    .log{
      max-height:300px; overflow:auto;
      border-radius:14px; padding:10px;
      background: linear-gradient(180deg, rgba(0,8,13,0.45), rgba(0,8,13,0.25));
      border:1px solid rgba(255,255,255,0.06);
    }
    .log-item{
      font-size:13px; padding:8px 10px; border-bottom:1px dashed rgba(255,255,255,0.06);
      display:flex; align-items:center; gap:8px;
    }
    .log-item:last-child{ border-bottom:0 }
    .log-time{ opacity:.7; font-variant-numeric: tabular-nums; width:64px; flex:0 0 auto; }
    .log-text{ flex:1 1 auto; min-width:0; }
    .muted{ opacity:.7 }

    /* Team color hints */
    .phoenix .name{ color:#f2e6c8; }
    .eaters .name{ color:#d0e6ff; }
    .phoenix .avatar{ background: radial-gradient(60% 80% at 50% 30%, rgba(212,186,141,0.45), rgba(0,8,13,0.6)); }
    .eaters .avatar{ background: radial-gradient(60% 80% at 50% 30%, rgba(0, 112, 212, 0.35), rgba(0,8,13,0.6)); }

    /* Footer */
    footer{
      padding:16px 14px 28px; text-align:center; color:#bfbfbf; font-size:12px; opacity:.8;
    }

    /* Dropdown fix for white UA defaults */
    select, option{
      color:#f5f5f5; background:#0b1620;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="brand-mark" aria-hidden="true"></div>
        <div class="title">PYXIS <span class="twinkle"></span></div>
      </div>
      <div class="sub">관전자 모드</div>
    </header>

    <main id="spectatorArea" aria-live="polite">
      <!-- Left: Team Phoenix -->
      <section class="panel" id="teamLeft">
        <h3>불사조 팀<span class="muted" id="leftCount">0명</span></h3>
        <div class="team-grid" id="leftGrid"></div>
      </section>

      <!-- Center: Arena + Cheer + Log -->
      <section class="center-arena">
        <div class="arena-card">
          <div class="turn-pill" id="turnPill">대기중</div>
          <div class="arena-inner">
            <div class="arena-hero" id="arenaHero" role="img" aria-label="경기 아바타"></div>
          </div>
        </div>

        <div class="panel" aria-label="응원 메시지">
          <h3>응원 메시지</h3>
          <div class="cheer" id="cheerButtons">
            <button class="btn shimmer" data-msg="멋지다!">멋지다!</button>
            <button class="btn shimmer" data-msg="이겨라!">이겨라!</button>
            <button class="btn shimmer" data-msg="살아서 돌아와!">살아서 돌아와!</button>
            <button class="btn shimmer" data-msg="화이팅!">화이팅!</button>
            <button class="btn shimmer" data-msg="죽으면 나한테 죽어!">죽으면 나한테 죽어!</button>
            <button class="btn shimmer" data-msg="힘내요!">힘내요!</button>
          </div>
        </div>

        <div class="panel">
          <h3>전투 로그</h3>
          <div class="log" id="battleLog" role="log" aria-live="polite"></div>
        </div>
      </section>

      <!-- Right: Team Eaters -->
      <section class="panel" id="teamRight">
        <h3>죽음을 먹는 자 팀<span class="muted" id="rightCount">0명</span></h3>
        <div class="team-grid" id="rightGrid"></div>
      </section>
    </main>

    <footer>
      PYXIS Spectator • 실시간 관전 전용 화면
    </footer>
  </div>

  <!-- Socket.IO (served by server) -->
  <script src="/socket.io/socket.io.js"></script>
  <script src="/assets/js/pages/spectator.js"></script>
</body>
</html>
