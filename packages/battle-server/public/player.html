<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PYXIS 배틀 시스템 - 전투 참가자</title>

  <!-- 요청하신 공통 스타일 -->
  <link rel="stylesheet" href="/assets/css/pyxis.css">
</head>
<body>
  <header class="header">
    <div class="container">
      <h1>PYXIS 배틀 시스템 - 전투 참가자</h1>
    </div>
  </header>

  <main class="container main-layout">
    <!-- 좌측: 내 정보 / 액션 -->
    <aside class="sidebar">
      <h3>전투 상태</h3>
      <div class="mb-10">
        <span class="text-secondary">상태:</span>
        <span id="battleStatus" class="text-gold">대기 중</span>
      </div>

      <h3 class="mt-20">내 정보</h3>
      <div class="player-card">
        <div class="player-avatar">
          <img id="playerAvatar" src="/uploads/avatars/default.svg" alt="플레이어 아바타">
        </div>
        <div class="player-info">
          <div id="playerName" class="player-name">이름</div>
          <div class="hp-container">
            <div class="hp-bar">
              <div id="playerHpBar" class="hp-fill hp-high" style="width: 100%"></div>
              <div id="playerHpText" class="hp-text">0/0</div>
            </div>
          </div>
          <div id="playerStats" class="player-stats mt-10"></div>
          <div id="playerItems" class="player-items"></div>
        </div>
      </div>

      <button id="btnReady" class="btn mt-10">준비 완료</button>

      <h3 class="mt-20">액션</h3>
      <div class="action-buttons">
        <button id="btnAttack" class="action-btn">공격</button>
        <button id="btnDefend" class="action-btn">방어</button>
        <button id="btnDodge" class="action-btn">회피</button>
        <button id="btnItemDittany" class="action-btn">디터니 사용</button>
        <button id="btnPass" class="action-btn">패스</button>
      </div>
    </aside>

    <!-- 중앙: 팀/턴/로그 -->
    <section class="main-content">
      <div class="turn-info">
        <div id="turnInfo">
          <div class="turn-number">0턴</div>
          <div class="current-team">N/A팀 턴</div>
          <div class="phase">대기 중</div>
          <div class="time-left">0초 남음</div>
        </div>
      </div>

      <h3 class="text-gold">팀 정보</h3>
      <div class="team-section">
        <div id="teamAContainer"></div>
      </div>
      <div class="team-section">
        <div id="teamBContainer"></div>
      </div>

      <h3 class="text-gold mt-20">로그</h3>
      <div id="logContainer" class="log-container"></div>
    </section>

    <!-- 우측: 현재 플레이어 / 채팅 -->
    <aside class="sidebar">
      <h3>현재 선택 중인 플레이어</h3>
      <div class="player-avatar-small mb-10">
        <img id="currentPlayerAvatar" src="/uploads/avatars/default.svg" alt="현재 플레이어">
      </div>

      <h3 class="mt-20">채팅</h3>
      <div id="chatContainer" class="chat-container mb-10"></div>
      <div class="form-group">
        <input id="chatMsg" class="form-control" type="text" placeholder="메시지를 입력하세요 (Enter 전송)">
      </div>
      <button id="btnSendChat" class="btn">전송</button>
    </aside>
  </main>

  <!-- 대상 선택 오버레이 -->
  <div id="targetOverlay" class="target-overlay">
    <div class="target-container" id="targetContainer">
      <!-- JS에서 채움: h3 + .target-list + 취소버튼 -->
    </div>
  </div>

  <!-- socket.io 클라이언트 -->
  <script src="/socket.io/socket.io.js"></script>
  <!-- 전투 참가자 페이지 스크립트 (당신이 제공한 IIFE) -->
  <script src="/assets/js/player.js"></script>
</body>
</html>
