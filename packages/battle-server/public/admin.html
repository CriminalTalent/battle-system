<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PYXIS 배틀 시스템 - 관리자</title>

  <!-- 스타일 시트 (요청하신 경로) -->
  <link rel="stylesheet" href="/assets/css/pyxis.css">
</head>
<body>
  <header class="header">
    <div class="container">
      <h1>PYXIS 배틀 시스템 - 관리자</h1>
    </div>
  </header>

  <main class="container main-layout">
    <!-- 좌측: 전투 컨트롤 / 링크 생성 -->
    <aside class="sidebar">
      <h3>전투 컨트롤</h3>
      <div class="mb-10">
        <label class="text-secondary">전투 ID:</label>
        <div id="currentBattleId" class="text-gold">없음</div>
      </div>
      <div class="mb-10">
        <label class="text-secondary">상태:</label>
        <div id="battleStatus" class="text-gold">waiting</div>
      </div>
      <div class="form-group">
        <label for="battleMode">모드</label>
        <select id="battleMode" class="form-control">
          <option value="1v1">1v1</option>
          <option value="2v2" selected>2v2</option>
          <option value="3v3">3v3</option>
        </select>
      </div>
      <div class="mt-10">
        <button id="btnCreate" class="btn">전투 생성</button>
        <button id="btnStart" class="btn mt-10">전투 시작</button>
        <button id="btnPause" class="btn mt-10">일시정지</button>
        <button id="btnResume" class="btn mt-10">재개</button>
        <button id="btnEnd" class="btn mt-10">종료</button>
      </div>

      <h3 class="mt-20">링크 생성</h3>
      <p class="text-secondary mb-10">관전자/플레이어 링크를 생성합니다.</p>
      <button id="btnGenSpectatorLink" class="btn">관전자 링크 생성</button>
      <button id="btnGenPlayerLinks" class="btn mt-10">플레이어 링크 생성</button>

      <div id="linkContainer" class="link-section mt-20"></div>
    </aside>

    <!-- 중앙: 플레이어/턴/로그 -->
    <section class="main-content">
      <div class="turn-info">
        <div id="turnInfo">
          <div class="turn-number">0턴</div>
          <div class="current-team">N/A팀 턴</div>
          <div class="phase">대기 중</div>
          <div class="time-left">0초 남음</div>
        </div>
      </div>

      <h3 class="text-gold">플레이어</h3>
      <div id="playerList"></div>

      <h3 class="text-gold">로그</h3>
      <div id="logContainer" class="log-container"></div>
    </section>

    <!-- 우측: 플레이어 추가 / 채팅 -->
    <aside class="sidebar">
      <h3>플레이어 추가</h3>
      <form id="playerForm" class="mb-20" onsubmit="return false;">
        <div class="form-group">
          <label for="playerName">이름</label>
          <input id="playerName" class="form-control" type="text" placeholder="플레이어 이름">
        </div>
        <div class="form-group">
          <label for="playerTeam">팀</label>
          <select id="playerTeam" class="form-control">
            <option value="A">A팀</option>
            <option value="B">B팀</option>
          </select>
        </div>
        <div class="form-group">
          <label for="playerHp">HP</label>
          <input id="playerHp" class="form-control" type="number" min="1" value="100">
        </div>

        <div class="form-group">
          <label>스탯 (1~5)</label>
          <div class="mt-10">
            <input id="playerAttack" class="form-control mb-10" type="number" min="1" max="5" placeholder="공격" value="1">
            <input id="playerDefense" class="form-control mb-10" type="number" min="1" max="5" placeholder="방어" value="1">
            <input id="playerAgility" class="form-control mb-10" type="number" min="1" max="5" placeholder="민첩" value="1">
            <input id="playerLuck" class="form-control" type="number" min="1" max="5" placeholder="행운" value="1">
          </div>
        </div>

        <div class="form-group">
          <label>아이템</label>
          <div class="mt-10">
            <input id="itemDittany" class="form-control mb-10" type="number" min="0" placeholder="디터니" value="0">
            <input id="itemAttackBooster" class="form-control mb-10" type="number" min="0" placeholder="공격 보정기" value="0">
            <input id="itemDefenseBooster" class="form-control" type="number" min="0" placeholder="방어 보정기" value="0">
          </div>
        </div>

        <div class="form-group">
          <label for="avatarFile">아바타</label>
          <input id="avatarFile" class="form-control" type="file" accept="image/*">
        </div>

        <button id="btnAddPlayer" class="btn mt-10">플레이어 추가</button>
      </form>

      <h3>채팅</h3>
      <div id="chatContainer" class="chat-container mb-10"></div>
      <div class="form-group">
        <input id="chatMsg" class="form-control" type="text" placeholder="메시지를 입력하세요 (Enter 전송)">
      </div>
      <button id="btnSend" class="btn">전송</button>
    </aside>
  </main>

  <!-- socket.io 클라이언트 -->
  <script src="/socket.io/socket.io.js"></script>
  <!-- 관리자 페이지 스크립트 (기존 IIFE 코드가 들어있는 파일) -->
  <script src="/assets/js/admin.js"></script>
</body>
</html>
