/* PYXIS Effects – 디자인 컬러는 기존 테마 변수만 사용 */
:root{
  /* pyxis-theme.css의 변수들을 그대로 사용 */
}

/* 이펙트 레이어 */
#fx-layer{
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9999;
}

/* 공통 카드 흔들림 */
@keyframes fx-shake {
  0%,100% { transform: translate(0,0); }
  20% { transform: translate(-2px, 0); }
  40% { transform: translate(2px, 0); }
  60% { transform: translate(-2px, 0); }
  80% { transform: translate(2px, 0); }
}
.fx-shake { animation: fx-shake .35s var(--ease-smooth); }

/* 히트 스파크 */
.fx-hit-spark{
  position:absolute;
  width:14px; height:14px;
  background: radial-gradient(circle, var(--gold) 0%, transparent 60%);
  border-radius:50%;
  opacity:.0;
  transform: scale(.6);
  animation: fx-spark .35s ease-out forwards;
  box-shadow: 0 0 18px rgba(212,183,126,.45);
}
@keyframes fx-spark{
  0% { opacity:.0; transform: scale(.4); }
  20% { opacity:1; transform: scale(1); }
  100% { opacity:0; transform: scale(1.8); }
}

/* 크리티컬 버스트 */
.fx-crit-burst{
  position:absolute;
  width:44px; height:44px;
  border-radius:50%;
  background: radial-gradient(circle, var(--gold-bright) 0%, rgba(212,183,126,.3) 40%, transparent 60%);
  filter: blur(1px);
  opacity:0;
  animation: fx-crit .5s ease-out forwards;
  box-shadow: 0 0 26px rgba(212,183,126,.6);
}
@keyframes fx-crit{
  0% { opacity:0; transform: scale(.6) rotate(0deg); }
  40% { opacity:1; transform: scale(1.2) rotate(18deg); }
  100% { opacity:0; transform: scale(1.8) rotate(36deg); }
}

/* 힐/실드 링 */
.fx-ring{
  position:absolute;
  width:54px; height:54px; border-radius:50%;
  border: 2px solid var(--gold);
  box-shadow: 0 0 16px rgba(212,183,126,.45);
  opacity:0;
  animation: fx-ring .6s ease-out forwards;
}
@keyframes fx-ring{
  0% { opacity:0; transform: scale(.6); }
  35% { opacity:1; transform: scale(1.05); }
  100% { opacity:0; transform: scale(1.6); }
}

/* 떠오르는 숫자/텍스트 */
.fx-float{
  position:absolute;
  color: var(--text);
  font-weight:900;
  font-family: var(--sans);
  font-size: 18px;
  text-shadow: 0 2px 10px rgba(0,0,0,.4), 0 0 14px rgba(212,183,126,.25);
  opacity:0;
  transform: translate(-50%, 0);
  animation: fx-float 800ms var(--ease-smooth) forwards;
  pointer-events:none;
}
.fx-float.crit{ color: var(--gold-bright); font-size:22px; }
.fx-float.block{ color: var(--text-muted); }
.fx-float.heal { color: var(--success); }
.fx-float.miss { color: var(--warning); }

@keyframes fx-float{
  0%{ opacity:0; transform: translate(-50%, 8px) scale(.95); }
  15%{ opacity:1; transform: translate(-50%, -4px) scale(1.03); }
  100%{ opacity:0; transform: translate(-50%, -32px) scale(1); }
}

/* 버튼 터치/클릭 골드 리플 */
.fx-ripple{
  position:absolute;
  border-radius:50%;
  transform: scale(0);
  background: radial-gradient(circle, var(--gold) 0%, rgba(212,183,126,.4) 40%, transparent 70%);
  opacity:.6;
  pointer-events:none;
  animation: fx-ripple .6s ease-out forwards;
}
@keyframes fx-ripple{
  to{ transform: scale(6); opacity: 0; }
}

/* 전역 배틀 타이머(1시간) */
#fx-battle-timer{
  position: fixed;
  top: 16px; right: 16px;
  display:flex; align-items:center; gap:10px;
  padding:10px 14px;
  background: var(--glass-2);
  border:1px solid var(--border-1);
  border-radius: 14px;
  backdrop-filter: var(--blur-light);
  box-shadow: var(--shadow-soft);
  z-index: 9998;
  pointer-events:none;
}
#fx-battle-timer .ring{
  --pct: 100;
  width: 28px; height: 28px; border-radius:50%;
  position: relative;
  background: conic-gradient(var(--gold) calc(var(--pct)*1%), rgba(42,52,65,.85) 0);
  box-shadow: 0 0 12px rgba(212,183,126,.25);
}
#fx-battle-timer .ring::after{
  content:''; position:absolute; inset:3px; border-radius:50%;
  background: var(--navy-mist);
  border:1px solid var(--border-1);
}
#fx-battle-timer .txt{
  font-weight:800; color: var(--text-dim); font-size: 13px;
}

/* 턴 타이머(액션 영역 상단) */
.fx-turn-timer{
  --pct: 100;
  display:flex; align-items:center; gap:10px;
  padding:8px 12px; border-radius:12px;
  background: var(--glass-1);
  border:1px solid var(--border-subtle);
  box-shadow: var(--shadow-subtle);
}
.fx-turn-timer .ring{
  width: 22px; height: 22px; border-radius:50%;
  background: conic-gradient(var(--gold) calc(var(--pct)*1%), rgba(42,52,65,.9) 0);
  position:relative;
}
.fx-turn-timer .ring::after{
  content:''; position:absolute; inset:3px; border-radius:50%;
  background: var(--navy-light); border:1px solid var(--border-1);
}
.fx-turn-timer .txt{ font-size:12px; color:var(--text-muted); font-weight:700; }

/* 모바일 터치 강조 */
.btn:active, .action-btn:active, .cheer-btn:active { transform: translateY(0) scale(.98); }

/* 접근성 */
@media (prefers-reduced-motion: reduce){
  .fx-hit-spark, .fx-crit-burst, .fx-ring, .fx-float, .fx-ripple, .fx-shake{ animation: none !important; }
}