.form-input:focus {
  outline: none;
  border-color: var(--gold);
  box-shadow: 0 0 0 3px rgba(229, 200, 138, 0.1);
  background: rgba(42, 52, 65, 0.9);
}

.form-input::placeholder {
  color: var(--text-secondary);
  opacity: 0.7;
}

.btn {
  background: linear-gradient(135deg, var(--gold), var(--gold-dark));
  color: var(--deep-navy);
  padding: 14px 28px;
  border-radius: 10px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-size: 1rem;
  font-family: inherit;
  border: none;
  width: 100%;
}

.btn:hover:not(:disabled) {
  background: linear-gradient(135deg, var(--gold-light), var(--gold));
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(229, 200, 138, 0.4);
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
  background: var(--accent);
  color: var(--text-secondary);
}

.login-actions {
  text-align: center;
  margin-top: 25px;
}

.battle-overview {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
  margin-bottom: 20px;
}

.overview-card {
  background: var(--glass);
  border: 1px solid var(--border-light);
  border-radius: 12px;
  padding: 20px;
  text-align: center;
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
}

.overview-card:hover {
  border-color: var(--gold);
  transform: translateY(-2px);
}

.overview-label {
  font-size: 0.85rem;
  color: var(--text-secondary);
  margin-bottom: 8px;
  font-weight: 600;
  text-transform: uppercase;
}

.overview-value {
  font-size: 1.4rem;
  font-weight: 700;
  color: var(--gold);
}

.timer-display {
  font-size: 2rem;
  font-weight: 900;
  color: var(--gold);
  text-shadow: 0 0 15px rgba(229, 200, 138, 0.5);
}

.timer-display.warning {
  color: var(--timer-warning);
  text-shadow: 0 0 15px rgba(231, 76, 60, 0.5);
}

.timer-display.critical {
  color: var(--timer-critical);
  text-shadow: 0 0 15px rgba(192, 57, 43, 0.5);
  animation: pulse 1s infinite;
}

.spectator-view {
  display: grid;
  gap: 20px;
}

@media (min-width: 1024px) {
  .spectator-view {
    grid-template-columns: 1fr 1.2fr 1fr;
  }
}

@media (max-width: 1023px) {
  .spectator-view {
    grid-template-columns: 1fr;
  }
}

.team-display {
  background: var(--glass);
  border: 1px solid var(--border-light);
  border-radius: 16px;
  padding: 20px;
  backdrop-filter: blur(15px);
}

.team-header {
  text-align: center;
  font-size: 1.2rem;
  font-weight: 700;
  margin-bottom: 20px;
  padding: 15px;
  border-radius: 12px;
  background: linear-gradient(135deg, rgba(229, 200, 138, 0.2), rgba(229, 200, 138, 0.1));
  color: var(--gold);
  text-shadow: 0 0 10px rgba(229, 200, 138, 0.5);
}

.team-phoenix .team-header {
  background: linear-gradient(135deg, rgba(231, 76, 60, 0.2), rgba(192, 57, 43, 0.2));
  color: #e74c3c;
  border: 1px solid rgba(231, 76, 60, 0.3);
}

.team-deatheater .team-header {
  background: linear-gradient(135deg, rgba(52, 152, 219, 0.2), rgba(41, 128, 185, 0.2));
  color: #3498db;
  border: 1px solid rgba(52, 152, 219, 0.3);
}

.player-showcase {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.player-card {
  background: rgba(15, 20, 25, 0.7);
  border: 1px solid var(--border-light);
  border-radius: 12px;
  padding: 15px;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.player-card:hover {
  border-color: var(--border);
  background: rgba(15, 20, 25, 0.9);
  transform: translateY(-2px);
}

.player-card.current-turn {
  border-color: var(--gold);
  box-shadow: 0 0 20px rgba(229, 200, 138, 0.3);
  background: rgba(229, 200, 138, 0.1);
}

.player-card.dead {
  opacity: 0.5;
  filter: grayscale(70%);
}

.player-info {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 15px;
}

.player-avatar {
  width: 60px;
  height: 60px;
  border-radius: 12px;
  background: var(--accent);
  border: 2px solid var(--border-light);
  object-fit: cover;
  transition: all 0.3s ease;
}

.player-card.current-turn .player-avatar {
  border-color: var(--gold);
  box-shadow: 0 0 15px rgba(229, 200, 138, 0.4);
}

.player-details {
  flex: 1;
}

.player-name {
  font-weight: 700;
  color: var(--gold);
  font-size: 1.1rem;
  margin-bottom: 5px;
}

.player-status {
  font-size: 0.9rem;
  color: var(--text-secondary);
}

.hp-bar {
  background: rgba(42, 52, 65, 0.7);
  border-radius: 10px;
  height: 8px;
  margin: 8px 0;
  overflow: hidden;
}

.hp-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--success) 0%, var(--warning) 70%, var(--danger) 100%);
  transition: width 0.5s ease;
  border-radius: 10px;
}

.player-stats {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
  margin-bottom: 15px;
}

.stat-item {
  text-align: center;
  background: rgba(42, 52, 65, 0.5);
  border-radius: 8px;
  padding: 8px 4px;
  border: 1px solid var(--border-light);
}

.stat-label {
  font-size: 0.7rem;
  color: var(--text-secondary);
  display: block;
  text-transform: uppercase;
}

.stat-value {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--gold);
  display: block;
  margin-top: 2px;
}

.player-items {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.item-tag {
  background: rgba(229, 200, 138, 0.15);
  color: var(--gold);
  border: 1px solid var(--border-light);
  border-radius: 12px;
  padding: 4px 8px;
  font-size: 0.7rem;
  font-weight: 600;
}

.central-hub {
  background: var(--glass);
  border: 1px solid var(--border-light);
  border-radius: 16px;
  padding: 20px;
  backdrop-filter: blur(15px);
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.battle-monitor {
  background: rgba(15, 20, 25, 0.7);
  border: 1px solid var(--border-light);
  border-radius: 12px;
  padding: 20px;
}

.monitor-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 15px;
}

.monitor-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px;
  background: rgba(42, 52, 65, 0.5);
  border-radius: 8px;
}

.monitor-label {
  font-size: 0.8rem;
  color: var(--text-secondary);
  font-weight: 600;
  text-transform: uppercase;
}

.monitor-value {
  font-size: 1rem;
  font-weight: 700;
  color: var(--gold);
}

.battle-log {
  background: rgba(15, 20, 25, 0.7);
  border: 1px solid var(--border-light);
  border-radius: 12px;
  padding: 20px;
  max-height: 300px;
  overflow-y: auto;
  flex: 1;
}

.log-title {
  font-size: 1.2rem;
  color: var(--gold);
  margin-bottom: 15px;
  font-weight: 700;
}

.log-entry {
  padding: 8px 0;
  border-bottom: 1px solid var(--border-light);
  font-size: 0.9rem;
  line-height: 1.4;
}

.log-entry:last-child {
  border-bottom: none;
}

.log-timestamp {
  color: var(--text-secondary);
  font-size: 0.8rem;
  margin-right: 10px;
}

.log-entry.system {
  color: var(--warning);
  font-weight: 600;
}

.log-entry.action {
  color: var(--text-primary);
}

.log-entry.combat {
  color: #e74c3c;
  font-weight: 600;
}

.notification {
  position: fixed;
  top: 20px;
  right: 20px;
  padding: 16px 20px;
  border-radius: 10px;
  font-weight: 600;
  color: white;
  z-index: 1000;
  max-width: 400px;
  word-wrap: break-word;
  box-shadow: 0 6px 25px rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(10px);
}

.notification.success {
  background: linear-gradient(135deg, var(--success), #27ae60);
}

.notification.error {
  background: linear-gradient(135deg, var(--danger), #c0392b);
}

.notification.warning {
  background: linear-gradient(135deg, var(--warning), #e67e22);
}

.hidden { display: none !important; }

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.spectator-container > * {
  animation: fadeIn 0.5s ease-out;
}
</style>
</head>

<body>
<div class="spectator-container">
  <!-- 로그인 패널 -->
  <div id="loginPanel" class="login-panel">
    <div class="login-title">관전 접속</div>
    <div class="form-grid cols-2">
      <div class="form-field" style="grid-column: 1 / -1;">
        <div class="form-label">관전자 이름</div>
        <input id="spectatorName" class="form-input" placeholder="예: 관전자1">
      </div>
      <div class="form-field">
        <div class="form-label">전투 ID</div>
        <input id="battleId" class="form-input" placeholder="예: ABC123">
      </div>
      <div class="form-field">
        <div class="form-label">토큰</div>
        <input id="tokenInput" class="form-input" placeholder="토큰">
      </div>
      <div class="form-field" style="grid-column: 1 / -1;">
        <div class="form-label">참가 코드</div>
        <input id="otp" class="form-input" placeholder="6자리 코드">
      </div>
    </div>
    <div class="login-actions">
      <button id="loginBtn" class="btn" disabled>접속</button>
    </div>
  </div>

  <!-- 메인 관전 화면 -->
  <div id="spectatorScreen" class="hidden">
    <!-- 헤더 -->
    <header class="spectator-header">
      <div class="spectator-title">PYXIS 전투 관전</div>
      <div class="connection-status" id="connectionStatus">연결 중...</div>
    </header>

    <!-- 전투 개요 -->
    <div id="battleOverview" class="battle-overview">
      <div class="overview-card">
        <div class="overview-label">단계</div>
        <div class="overview-value" id="battlePhase">-</div>
      </div>
      <div class="overview-card">
        <div class="overview-label">현재 턴</div>
        <div class="overview-value" id="turnSide">-</div>
      </div>
      <div class="overview-card">
        <div class="overview-label">턴 타이머</div>
        <div class="timer-display" id="turnTimer">-</div>
      </div>
      <div class="overview-card">
        <div class="overview-label">승자</div>
        <div class="overview-value" id="winnerStatus">-</div>
      </div>
    </div>

    <!-- 관전 뷰 -->
    <div id="spectatorView" class="spectator-view">
      <!-- 불사조 기사단 -->
      <div class="team-display team-phoenix">
        <div class="team-header">불사조 기사단</div>
        <div id="team1Display" class="player-showcase"></div>
      </div>

      <!-- 중앙 허브 -->
      <div class="central-hub">
        <div class="battle-monitor">
          <div class="form-label" style="margin-bottom: 12px;">전투 모니터</div>
          <div class="monitor-grid">
            <div class="monitor-item">
              <span class="monitor-label">단계</span>
              <span class="monitor-value" id="phaseDetail">-</span>
            </div>
            <div class="monitor-item">
              <span class="monitor-label">턴 시간</span>
              <span class="monitor-value" id="turnRemain">-</span>
            </div>
            <div class="monitor-item">
              <span class="monitor-label">시작 시간</span>
              <span class="monitor-value" id="startTime">-</span>
            </div>
            <div class="monitor-item">
              <span class="monitor-label">모드</span>
              <span class="monitor-value" id="battleMode">-</span>
            </div>
          </div>
        </div>

        <div class="battle-log">
          <div class="log-title">실시간 전투 기록</div>
          <div id="battleLogContent"></div>
        </div>
      </div>

      <!-- 죽음을 먹는 자들 -->
      <div class="team-display team-deatheater">
        <div class="team-header">죽음을 먹는 자들</div>
        <div id="team2Display" class="player-showcase"></div>
      </div>
    </div>
  </div>
</div>

<script>
// 전역 변수
let socket = null;
let currentBattleState = null;
let turnTimer = null;

// 유틸리티 함수
const $ = id => document.getElementById(id);

// 알림 함수들
function showNotification(message, type = 'success') {
  const notification = document.createElement('div');
  notification.className = `notification ${type}`;
  notification.textContent = message;
  document.body.appendChild(notification);
  
  setTimeout(() => {
    notification.remove();
  }, 5000);
}

function showSuccess(message) {
  showNotification(message, 'success');
}

function showError(message) {
  showNotification(message, 'error');
}

// 소켓 연결
function connectSocket() {
  const protocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
  const wsUrl = `${protocol}//${location.host}`;
  
  socket = io(wsUrl);
  
  socket.on('connect', () => {
    updateConnectionStatus(true);
    showSuccess('서버에 연결되었습니다');
  });
  
  socket.on('disconnect', () => {
    updateConnectionStatus(false);
    showError('서버 연결이 끊어졌습니다');
  });
  
  socket.on('battle-state', handleBattleState);
  socket.on('player-joined', handlePlayerJoined);
  socket.on('battle-started', handleBattleStarted);
  socket.on('action-executed', handleActionExecuted);
  socket.on('battle-ended', handleBattleEnded);
  
  socket.on('error', (error) => {
    showError(error.message || '알 수 없는 오류가 발생했습니다');
  });
}

// 연결 상태 업데이트
function updateConnectionStatus(connected) {
  const status = $('connectionStatus');
  if (connected) {
    status.textContent = '연결됨';
    status.className = 'connection-status connected';
  } else {
    status.textContent = '연결 끊김';
    status.className = 'connection-status disconnected';
  }
}

// 로그인 처리
async function login() {
  const spectatorName = $('spectatorName').value.trim();
  const battleId = $('battleId').value.trim();
  const token = $('tokenInput').value.trim();
  const otp = $('otp').value.trim();
  
  if (!spectatorName || !battleId || !otp) {
    showError('모든 필드를 입력해주세요');
    return;
  }
  
  try {
    // 인증
    const authRes = await fetch('/api/auth/login', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        battleId,
        role: 'spectator',
        name: spectatorName,
        otp,
        token
      })
    });
    
    if (!authRes.ok) {
      const error = await authRes.json();
      throw new Error(error.error || '인증 실패');
    }
    
    // 소켓 룸 참가
    socket.emit('join-battle', {
      battleId,
      role: 'spectator'
    });
    
    // 화면 전환
    $('loginPanel').classList.add('hidden');
    $('spectatorScreen').classList.remove('hidden');
    
    showSuccess(`${spectatorName}으로 관전을 시작합니다`);
    
  } catch (error) {
    showError(error.message);
  }
}

// 전투 상태 처리
function handleBattleState(state) {
  currentBattleState = state;
  updateUI();
}

function handlePlayerJoined(data) {
  if (currentBattleState) {
    currentBattleState = data.state;
    updateUI();
  }
  addBattleLog(`${data.player.name}이 전투에 참가했습니다`, 'system');
}

function handleBattleStarted(data) {
  currentBattleState = data.state;
  updateUI();
  addBattleLog('전투가 시작되었습니다!', 'system');
}

function handleActionExecuted(data) {
  currentBattleState = data.state;
  updateUI();
  addBattleLog(data.result.description, 'action');
  
  if (data.result.battleEnded) {
    addBattleLog(`전투 종료! 승자: ${getTeamName(data.result.winner)}`, 'system');
  }
}

function handleBattleEnded(data) {
  currentBattleState = data.state;
  updateUI();
  addBattleLog(`전투가 종료되었습니다. 승자: ${getTeamName(data.winner)}`, 'system');
}

// UI 업데이트
function updateUI() {
  if (!currentBattleState) return;
  
  updateBattleOverview();
  updateTeamDisplays();
  updateBattleMonitor();
}

function updateBattleOverview() {
  const { phase, turnOrder, turnIndex, winner } = currentBattleState;
  
  // 단계
  let phaseText = '-';
  if (phase === 'lobby') phaseText = '대기실';
  else if (phase === 'battle') phaseText = '전투중';
  else if (phase === 'ended') phaseText = '종료';
  $('battlePhase').textContent = phaseText;
  
  // 현재 턴
  if (phase === 'battle' && turnOrder && turnOrder.length > 0) {
    const currentPlayer = turnOrder[turnIndex];
    $('turnSide').textContent = currentPlayer ? currentPlayer.name : '-';
    startTurnTimer();
  } else {
    $('turnSide').textContent = '-';
    $('turnTimer').textContent = '-';
    stopTurnTimer();
  }
  
  // 승자
  $('winnerStatus').textContent = getTeamName(winner) || '-';
}

function updateTeamDisplays() {
  const { teams } = currentBattleState;
  
  // 불사조 기사단
  if (teams && teams.team1) {
    $('team1Display').innerHTML = teams.team1.map(player => renderPlayerCard(player)).join('');
  }
  
  // 죽음을 먹는 자들
  if (teams && teams.team2) {
    $('team2Display').innerHTML = teams.team2.map(player => renderPlayerCard(player)).join('');
  }
}

function updateBattleMonitor() {
  const { phase, mode, startTime } = currentBattleState;
  
  // 단계 상세
  let phaseDetail = '알 수 없음';
  if (phase === 'lobby') phaseDetail = '플레이어 대기 중';
  else if (phase === 'battle') phaseDetail = '활발한 전투 중';
  else if (phase === 'ended') phaseDetail = '전투 완료';
  $('phaseDetail').textContent = phaseDetail;
  
  // 모드
  $('battleMode').textContent = mode || '-';
  
  // 시작 시간
  if (startTime) {
    const start = new Date(startTime);
    $('startTime').textContent = start.toLocaleTimeString();
  } else {
    $('startTime').textContent = '-';
  }
}

function renderPlayerCard(player) {
  const isCurrentTurn = currentBattleState.phase === 'battle' && 
                        currentBattleState.turnOrder && 
                        currentBattleState.turnOrder[currentBattleState.turnIndex]?.id === player.id;
  
  const isDead = !player.alive;
  
  let cardClasses = 'player-card';
  if (isCurrentTurn) cardClasses += ' current-turn';
  if (isDead) cardClasses += ' dead';
  
  const hpPercentage = (player.hp / player.maxHp) * 100;
  
  const items = player.inventory || [];
  const itemsHtml = items.length > 0 
    ? items.map(item => `<span class="item-tag">${item}</span>`).join('')
    : '<span class="item-tag">없음</span>';
  
  return `
    <div class="${cardClasses}">
      <div class="player-info">
        <img src="${player.imageUrl || '/default-avatar.png'}" alt="${player.name}" class="player-avatar">
        <div class="player-details">
          <div class="player-name">${player.name}</div>
          <div class="player-status">${isDead ? '사망' : '생존'}</div>
          <div class="hp-bar">
            <div class="hp-fill" style="width: ${hpPercentage}%"></div>
          </div>
          <div style="font-size: 0.8rem; color: var(--text-secondary);">
            HP: ${player.hp}/${player.maxHp}
          </div>
        </div>
      </div>
      <div class="player-stats">
        <div class="stat-item">
          <span class="stat-label">공격</span>
          <span class="stat-value">${player.stats.attack}</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">방어</span>
          <span class="stat-value">${player.stats.defense}</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">민첩</span>
          <span class="stat-value">${player.stats.agility}</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">행운</span>
          <span class="stat-value">${player.stats.luck}</span>
        </div>
      </div>
      <div class="player-items">
        ${itemsHtml}
      </div>
    </div>
  `;
}

// 턴 타이머
function startTurnTimer() {
  stopTurnTimer();
  
  const duration = 300; // 5분 = 300초
  let timeLeft = duration;
  
  updateTimerDisplay(timeLeft);
  
  turnTimer = setInterval(() => {
    timeLeft--;
    updateTimerDisplay(timeLeft);
    
    if (timeLeft <= 0) {
      stopTurnTimer();
    }
  }, 1000);
}

function stopTurnTimer() {
  if (turnTimer) {
    clearInterval(turnTimer);
    turnTimer = null;
  }
}

function updateTimerDisplay(seconds) {
  const minutes = Math.floor(seconds / 60);
  const secs = seconds % 60;
  const display = `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
  
  const timerEl = $('turnTimer');
  timerEl.textContent = display;
  
  const remainEl = $('turnRemain');
  if (remainEl) remainEl.textContent = display;
  
  // 색상 변경
  if (seconds <= 30) {
    timerEl.className = 'timer-display critical';
  } else if (seconds <= 60) {
    timerEl.className = 'timer-display warning';
  } else {
    timerEl.className = 'timer-display';
  }
}

// 유틸리티 함수들
function getTeamName(teamId) {
  if (teamId === 'team1') return '불사조 기사단';
  if (teamId === 'team2') return '죽음을 먹는 자들';
  if (teamId === 'draw') return '무승부';
  return null;
}

function addBattleLog(message, type = 'action') {
  const logContent = $('battleLogContent');
  const timestamp = new Date().toLocaleTimeString();
  
  const logEntry = document.createElement('div');
  logEntry.className = `log-entry ${type}`;
  logEntry.innerHTML = `
    <span class="log-timestamp">${timestamp}</span>
    ${message}
  `;
  
  logContent.appendChild(logEntry);
  logContent.scrollTop = logContent.scrollHeight;
}

// 이벤트 리스너
document.addEventListener('DOMContentLoaded', () => {
  // URL 파라미터 처리
  const params = new URLSearchParams(location.search);
  const battleId = params.get('battle');
  const token = params.get('token');
  
  if (battleId) $('battleId').value = battleId;
  if (token) $('tokenInput').value = token;
  
  // 입력 검증
  function validateForm() {
    const spectatorName = $('spectatorName').value.trim();
    const battleId = $('battleId').value.trim();
    const otp = $('otp').value.trim();
    
    $('loginBtn').disabled = !spectatorName || !battleId || !otp;
  }
  
  $('spectatorName').addEventListener('input', validateForm);
  $('battleId').addEventListener('input', validateForm);
  $('otp').addEventListener('input', validateForm);
  
  // 로그인 버튼
  $('loginBtn').addEventListener('click', login);
  
  // 소켓 연결
  connectSocket();
  
  validateForm();
});
</script>

<!-- Socket.IO 클라이언트 라이브러리 -->
<script src="/socket.io/socket.io.js"></script>
</body>
</html>
  <!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
<title>PYXIS 전투 관전</title>
<style>
:root {
  --deep-navy: #0a0f1a;
  --navy: #0f1419;
  --navy-light: #1a1f26;
  --gold: #E5C88A;
  --gold-light: #F5E6B8;
  --gold-dark: #C8A882;
  --accent: #2a3441;
  --text-primary: #F5E6B8;
  --text-secondary: #D4C39A;
  --border: rgba(229, 200, 138, 0.3);
  --border-light: rgba(229, 200, 138, 0.15);
  --shadow: rgba(229, 200, 138, 0.2);
  --glass: rgba(15, 20, 25, 0.85);
  --glass-dark: rgba(10, 15, 26, 0.9);
  --timer-warning: #e74c3c;
  --timer-critical: #c0392b;
  --success: #27ae60;
  --warning: #f39c12;
  --danger: #e74c3c;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
}

body {
  background: linear-gradient(135deg, var(--deep-navy) 0%, var(--navy) 50%, var(--navy-light) 100%);
  color: var(--text-primary);
  font-family: 'Cinzel', 'Times New Roman', serif;
  min-height: 100vh;
  overflow-x: hidden;
  position: relative;
  font-size: 16px;
}

body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(circle at 20% 20%, rgba(229, 200, 138, 0.05) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(229, 200, 138, 0.05) 0%, transparent 50%),
    radial-gradient(circle at 40% 60%, rgba(229, 200, 138, 0.03) 0%, transparent 50%);
  pointer-events: none;
  z-index: -1;
}

.spectator-container {
  max-width: 1600px;
  margin: 0 auto;
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.spectator-header {
  background: var(--glass-dark);
  border: 2px solid var(--border);
  border-radius: 16px;
  padding: 20px 25px;
  text-align: center;
  backdrop-filter: blur(20px);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(229, 200, 138, 0.1);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.spectator-title {
  font-size: clamp(1.5rem, 4vw, 2.2rem);
  color: var(--gold);
  text-shadow: 0 0 20px rgba(229, 200, 138, 0.5);
  letter-spacing: 2px;
  font-weight: 700;
}

.connection-status {
  display: inline-block;
  background: rgba(229, 200, 138, 0.15);
  border: 1px solid var(--border-light);
  border-radius: 20px;
  padding: 8px 16px;
  font-size: 0.9rem;
  color: var(--gold);
  font-weight: 600;
}

.connection-status.connected {
  background: rgba(39, 174, 96, 0.2);
  border-color: rgba(39, 174, 96, 0.5);
  color: var(--success);
}

.connection-status.disconnected {
  background: rgba(231, 76, 60, 0.2);
  border-color: rgba(231, 76, 60, 0.5);
  color: var(--danger);
}

.login-panel {
  background: var(--glass);
  border: 1px solid var(--border-light);
  border-radius: 16px;
  padding: 30px;
  backdrop-filter: blur(15px);
  max-width: 500px;
  margin: 50px auto;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.login-title {
  font-size: 2rem;
  color: var(--gold);
  text-align: center;
  margin-bottom: 30px;
  font-weight: 700;
  text-shadow: 0 0 15px rgba(229, 200, 138, 0.5);
}

.form-grid {
  display: grid;
  gap: 15px;
}

.cols-2 { grid-template-columns: repeat(2, 1fr); }

@media (max-width: 768px) {
  .cols-2 { grid-template-columns: 1fr; }
}

.form-field {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form-label {
  font-size: 0.9rem;
  color: var(--text-secondary);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.form-input {
  background: rgba(42, 52, 65, 0.7);
  border: 1px solid var(--border-light);
  border-radius: 8px;
  padding: 14px 18px;
  color: var(--text-primary);
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.3s ease;
}

.form-input:focus {
  outline
