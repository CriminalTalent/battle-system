on('#btnAdminLogin', 'click', async () => {
  if (!BATTLE) return showError('전투 ID가 필요합니다');
  const otp = $('#adminOtpInput').value.trim();
  if (!otp) return showError('OTP를 입력하세요');
  
  try {
    const result = await api(`/api/admin/battles/${BATTLE}/auth`, { 
      method: 'POST', 
      body: JSON.stringify({ otp, role: 'admin' }) 
    });
    TOK.admin = result.token;
    $('#adminLoginState').textContent = '인증됨';
    $('#adminLoginState').style.background = 'var(--gold)';
    $('#adminLoginState').style.color = 'var(--navy)';
    showSuccess('관리자 인증 완료');
    connectSocket();
  } catch (error) {
    // 오류는 이미 api 함수에서 처리됨
  }
});
