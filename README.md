# ë°°í‹€ ì‹œìŠ¤í…œ

ë¯¼ì²©ì„± ê¸°ë°˜ ì„ í›„ê³µ ì‹œìŠ¤í…œê³¼ ì‹¤ì‹œê°„ ì±„íŒ…, ì „ëµì  ì•„ì´í…œ ì‹œìŠ¤í…œì„ ê°–ì¶˜ íŒ€ì „ ë°°í‹€ ê²Œì„

![Battle System](https://img.shields.io/badge/Version-2.2.0-blue.svg)
![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)
![React](https://img.shields.io/badge/React-18+-blue.svg)
![Socket.IO](https://img.shields.io/badge/Socket.IO-4.7+-red.svg)

## ëª©ì°¨

- [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
- [ê²Œì„ ì‹œìŠ¤í…œ](#ê²Œì„-ì‹œìŠ¤í…œ)
- [ì•„ì´í…œ ì‹œìŠ¤í…œ](#ì•„ì´í…œ-ì‹œìŠ¤í…œ)
- [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
- [ë¹ ë¥¸ ì‹œì‘](#ë¹ ë¥¸-ì‹œì‘)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [API ë¬¸ì„œ](#api-ë¬¸ì„œ)
- [ë°°í¬ ê°€ì´ë“œ](#ë°°í¬-ê°€ì´ë“œ)
- [ê°œë°œ ê°€ì´ë“œ](#ê°œë°œ-ê°€ì´ë“œ)

## ì£¼ìš” ê¸°ëŠ¥

### ì „íˆ¬ ì‹œìŠ¤í…œ
- **íŒ€ì „ ì§€ì›**: 1v1, 2v2, 3v3, 4v4 ëª¨ë“œ
- **ë¯¼ì²©ì„± ê¸°ë°˜ ì„ í›„ê³µ**: íŒ€ ë¯¼ì²©ì„± ì´í•© + 1d100 ì£¼ì‚¬ìœ„ë¡œ ê²°ì •
- **3ê°€ì§€ ê¸°ë³¸ ì•¡ì…˜**: ê³µê²©, ë°©ì–´, íšŒí”¼
- **ê³ ê¸‰ ì „íˆ¬ ê³„ì‚°**: ëª…ì¤‘ë¥ , íšŒí”¼ìœ¨, ë°ë¯¸ì§€ ê°ì†Œ
- **íƒ€ê²Ÿ ì„ íƒ ì‹œìŠ¤í…œ**: ì§ê´€ì ì¸ íƒ€ê²Ÿ ì„ íƒ UI

### ì•„ì´í…œ ì‹œìŠ¤í…œ ğŸ’
- **ì „ëµì  ì•„ì´í…œ**: ê³µê²©/ë°©ì–´ ë³´ì •ê¸°, íšŒë³µ ë¬¼ì•½
- **íŒ€ ì „ìš© ë¹„ë°€**: ê°™ì€ íŒ€ì›ë§Œ ì•„ì´í…œ ì •ë³´ ê³µìœ 
- **ìš´ì˜ì§„ ì„¤ì •**: ê²Œì„ ìƒì„± ì‹œ íŒ€ì¥ì´ ì•„ì´í…œ êµ¬ì„± ê²°ì •
- **ì‹¤ì‹œê°„ ì‚¬ìš©**: ë°°í‹€ ì¤‘ í„´ì—ì„œ ì•„ì´í…œ ì‚¬ìš© ê°€ëŠ¥
- **íš¨ê³¼ ê´€ë¦¬**: ì§€ì† íš¨ê³¼ ë° ë‚¨ì€ í„´ ìˆ˜ í‘œì‹œ

### ì•¡ì…˜ ì‹œìŠ¤í…œ
- **ê³µê²©**: ëª…ì¤‘ë¥  80%, ìƒëŒ€ì˜ ë¯¼ì²©ì„± ê¸°ë°˜ íšŒí”¼ ê°€ëŠ¥
- **ë°©ì–´**: ë‹¤ìŒ ë°›ëŠ” ê³µê²© ë°ë¯¸ì§€ 50% ê°ì†Œ
- **íšŒí”¼**: ë¯¼ì²©ì„± +20 ì¦ê°€ (1í„´ ì§€ì†)
- **ì•„ì´í…œ ì‚¬ìš©**: ë³´ì •ê¸°, íšŒë³µ ë¬¼ì•½ ë“± ì „ëµì  í™œìš©

### ì‹¤ì‹œê°„ ê¸°ëŠ¥
- **Socket.IO**: ì‹¤ì‹œê°„ ì „íˆ¬ ë™ê¸°í™”
- **ì‹¤ì‹œê°„ ì±„íŒ…**: ë°°í‹€ ì¤‘ íŒ€ì› ê°„ ì†Œí†µ
- **í„´ íƒ€ì´ë¨¸**: 30ì´ˆ ì œí•œ ì‹œê°„ (ì„¤ì • ê°€ëŠ¥)
- **ìë™ ì¬ì—°ê²°**: ì—°ê²° ëŠê¹€ ì‹œ ìë™ ì¬ì—°ê²°
- **ì‹¤ì‹œê°„ ë¡œê·¸**: ëª¨ë“  ì•¡ì…˜ ë° ì•„ì´í…œ ì‚¬ìš© ê¸°ë¡

### ì±„íŒ… ì‹œìŠ¤í…œ ğŸ’¬
- **ì‹¤ì‹œê°„ ë©”ì‹œì§€**: ë°°í‹€ ì°¸ê°€ì ê°„ ì‹¤ì‹œê°„ ëŒ€í™”
- **ì‹œìŠ¤í…œ ë©”ì‹œì§€**: ê²Œì„ ì´ë²¤íŠ¸ ìë™ ì•Œë¦¼
- **ë©”ì‹œì§€ í•„í„°ë§**: ê¸°ë³¸ì ì¸ ìš•ì„¤ í•„í„°
- **ì±„íŒ… íˆìŠ¤í† ë¦¬**: ë©”ì‹œì§€ ê¸°ë¡ ìœ ì§€
- **ìµœì†Œí™” ê¸°ëŠ¥**: ëª¨ë°”ì¼ì—ì„œ ê³µê°„ ì ˆì•½

### ì‚¬ìš©ì ê²½í—˜
- **ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± ìµœì í™”
- **í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤**: 1(ê³µê²©), 2(ë°©ì–´), 3(íšŒí”¼), Enter(ì±„íŒ…)
- **ëŒ€ìƒ ì„ íƒ UI**: ì§ê´€ì ì¸ í´ë¦­ ì¸í„°í˜ì´ìŠ¤
- **ì‹œê°ì  í”¼ë“œë°±**: ì• ë‹ˆë©”ì´ì…˜ ë° ìƒíƒœ í‘œì‹œ
- **ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ ë””ìì¸**: ëª¨ë˜í•œ UI/UX

## ê²Œì„ ì‹œìŠ¤í…œ

### ì„ í›„ê³µ ê²°ì •
```
1. ê° íŒ€ì˜ ëª¨ë“  í”Œë ˆì´ì–´ ë¯¼ì²©ì„± í•©ê³„ ê³„ì‚°
2. ì‹œìŠ¤í…œì´ ë‘ ë¯¼ì²©ì„±í•©ê³„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ 1D100 ë‹¤ì´ìŠ¤ë¥¼ êµ´ë¦¼
3. ë‹¤ì´ìŠ¤ ì ìˆ˜ê°€ ë†’ì€ìª½ì´ ì„ ê³µ
4. ë™ì  ì‹œ ì¬êµ´ë¦¼
```

### í„´ ìˆœì„œ
```
ì„ ê³µíŒ€ ì „ì²´ í–‰ë™ â†’ í›„ê³µíŒ€ ì „ì²´ í–‰ë™ â†’ ë°˜ë³µ
```

### ì „íˆ¬ ê³„ì‚°
```javascript
// ê³µê²© ê³„ì‚°
ê¸°ë³¸ëª…ì¤‘ë¥ : 80%
íšŒí”¼ìœ¨: min(ëŒ€ìƒ ë¯¼ì²©ì„± / 10, 30%)
ê¸°ë³¸ë°ë¯¸ì§€: ê³µê²©ë ¥ - ë°©ì–´ë ¥
ë°ë¯¸ì§€ë³€ë™: 80% ~ 120%

// ë°©ì–´ íš¨ê³¼
ë°©ì–´ìƒíƒœ: ë‹¤ìŒ ê³µê²© ë°ë¯¸ì§€ 50% ê°ì†Œ

// íšŒí”¼ íš¨ê³¼  
íšŒí”¼ìƒíƒœ: ë¯¼ì²©ì„± +20 (1í„´ ì§€ì†)

// ì•„ì´í…œ íš¨ê³¼
ê³µê²©ë³´ì •ê¸°: ê³µê²©ë ¥ +15 (3í„´ ì§€ì†)
ë°©ì–´ë³´ì •ê¸°: ë°©ì–´ë ¥ +10 (3í„´ ì§€ì†)
íšŒë³µë¬¼ì•½: HP +30 (ì¦‰ì‹œ íš¨ê³¼)
```

### ë°°í‹€ í”Œë¡œìš°
```
ë°°í‹€ ìƒì„± â†’ ì•„ì´í…œ ì„¤ì • â†’ í”Œë ˆì´ì–´ ì°¸ê°€ â†’ ì¤€ë¹„ ì™„ë£Œ â†’ ì„ í›„ê³µ ê²°ì • â†’ ë°°í‹€ ì‹œì‘ â†’ í„´ ì§„í–‰ â†’ ìŠ¹ë¶€ ê²°ì •
```

## ì•„ì´í…œ ì‹œìŠ¤í…œ

### ì•„ì´í…œ ì¢…ë¥˜

#### ğŸ—¡ï¸ ê³µê²© ë³´ì •ê¸°
- **íš¨ê³¼**: ê³µê²©ë ¥ +15
- **ì§€ì†ì‹œê°„**: 3í„´
- **ì‚¬ìš© ì œí•œ**: ì¤‘ë³µ ì‚¬ìš© ë¶ˆê°€
- **ìµœëŒ€ ê°œìˆ˜**: 3ê°œ

#### ğŸ›¡ï¸ ë°©ì–´ ë³´ì •ê¸°
- **íš¨ê³¼**: ë°©ì–´ë ¥ +10
- **ì§€ì†ì‹œê°„**: 3í„´
- **ì‚¬ìš© ì œí•œ**: ì¤‘ë³µ ì‚¬ìš© ë¶ˆê°€
- **ìµœëŒ€ ê°œìˆ˜**: 3ê°œ

#### ğŸ§ª íšŒë³µ ë¬¼ì•½
- **íš¨ê³¼**: HP +30 ì¦‰ì‹œ íšŒë³µ
- **ì§€ì†ì‹œê°„**: ì¦‰ì‹œ
- **ì‚¬ìš© ì œí•œ**: ì—†ìŒ
- **ìµœëŒ€ ê°œìˆ˜**: 3ê°œ

### ì•„ì´í…œ ê·œì¹™

#### ì„¤ì • ê·œì¹™
- **íŒ€ì¥ ê¶Œí•œ**: ì²« ë²ˆì§¸ ì°¸ê°€ìê°€ íŒ€ ì•„ì´í…œ êµ¬ì„±
- **ìˆ˜ëŸ‰ ì œí•œ**: ì´ 6ê°œ ì•„ì´í…œê¹Œì§€ ì„¤ì • ê°€ëŠ¥
- **ë¹„ë°€ ìœ ì§€**: ìƒëŒ€íŒ€ì—ê²Œ ì•„ì´í…œ ì •ë³´ ë¹„ê³µê°œ

#### ì‚¬ìš© ê·œì¹™
- **í„´ ì œí•œ**: ìì‹ ì˜ í„´ì—ë§Œ ì‚¬ìš© ê°€ëŠ¥
- **í„´ ì†Œëª¨**: ì•„ì´í…œ ì‚¬ìš©ë„ í•˜ë‚˜ì˜ ì•¡ì…˜ìœ¼ë¡œ ê°„ì£¼
- **ê³µìœ  ì‚¬ìš©**: íŒ€ì› ëˆ„êµ¬ë‚˜ íŒ€ ì•„ì´í…œ ì‚¬ìš© ê°€ëŠ¥
- **íš¨ê³¼ ì¤‘ì²©**: ë³´ì •ê¸°ëŠ” ì¤‘ë³µ ì‚¬ìš© ë¶ˆê°€, ë¬¼ì•½ì€ ì œí•œ ì—†ìŒ

#### ë³´ì•ˆ ê¸°ëŠ¥
- **íŒ€ë³„ ê²©ë¦¬**: ê° íŒ€ì˜ ì•„ì´í…œ ì •ë³´ëŠ” í•´ë‹¹ íŒ€ë§Œ ì ‘ê·¼
- **ì„œë²„ ê²€ì¦**: ëª¨ë“  ì•„ì´í…œ ì‚¬ìš©ì€ ì„œë²„ì—ì„œ ìœ íš¨ì„± ê²€ì¦
- **ìƒëŒ€ë°© ì°¨ë‹¨**: ìƒëŒ€íŒ€ì´ë‚˜ ê´€ì „ìëŠ” ì•„ì´í…œ ì •ë³´ í™•ì¸ ë¶ˆê°€

## ê¸°ìˆ  ìŠ¤íƒ

### ë°±ì—”ë“œ
- **Node.js 18+**: ì„œë²„ ëŸ°íƒ€ì„
- **Express.js**: ì›¹ í”„ë ˆì„ì›Œí¬
- **Socket.IO**: ì‹¤ì‹œê°„ í†µì‹ 
- **UUID**: ê³ ìœ  ID ìƒì„±

### í”„ë¡ íŠ¸ì—”ë“œ
- **React 18+**: UI ë¼ì´ë¸ŒëŸ¬ë¦¬
- **Framer Motion**: ì• ë‹ˆë©”ì´ì…˜
- **Socket.IO Client**: ì‹¤ì‹œê°„ í†µì‹ 
- **Tailwind CSS**: ìŠ¤íƒ€ì¼ë§

### ê°œë°œ ë„êµ¬
- **Nodemon**: ê°œë°œ ì„œë²„ ìë™ ì¬ì‹œì‘
- **ESLint**: ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬

## ë¹ ë¥¸ ì‹œì‘

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Node.js 18.0.0 ì´ìƒ
- npm 8.0.0 ì´ìƒ

### 1. ë ˆí¬ì§€í† ë¦¬ í´ë¡ 
```bash
git clone https://github.com/CriminalTalent/battle-system.git
cd battle-system
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
# API ì„œë²„
cd packages/battle-api
npm install

# ì›¹ í´ë¼ì´ì–¸íŠ¸
cd ../battle-web
npm install
```

### 3. ê°œë°œ ì„œë²„ ì‹¤í–‰
```bash
# API ì„œë²„ (í„°ë¯¸ë„ 1)
cd packages/battle-api
npm run dev

# ì›¹ í´ë¼ì´ì–¸íŠ¸ (í„°ë¯¸ë„ 2)
cd packages/battle-web
npm start
```

### 4. ì ‘ì†
- **ì›¹ í´ë¼ì´ì–¸íŠ¸**: http://localhost:3000
- **API ì„œë²„**: http://localhost:3001
- **í—¬ìŠ¤ì²´í¬**: http://localhost:3001/api/health

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
battle-system/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ battle-api/              # ë°±ì—”ë“œ ì„œë²„
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BattleEngine.js     # í•µì‹¬ ì „íˆ¬ ì—”ì§„ + ì•„ì´í…œ ì‹œìŠ¤í…œ
â”‚   â”‚   â”‚   â”œâ”€â”€ socket/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ battleSocket.js     # Socket.IO í•¸ë“¤ëŸ¬
â”‚   â”‚   â”‚   â””â”€â”€ server.js               # ë©”ì¸ ì„œë²„
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â””â”€â”€ battle-web/              # í”„ë¡ íŠ¸ì—”ë“œ
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ components/
â”‚       â”‚   â”‚   â”œâ”€â”€ BattleField.js      # ë©”ì¸ ë°°í‹€ í™”ë©´
â”‚       â”‚   â”‚   â”œâ”€â”€ ChatPanel.js        # ì±„íŒ… ì‹œìŠ¤í…œ
â”‚       â”‚   â”‚   â”œâ”€â”€ ItemSetup.js        # ì•„ì´í…œ ì„¤ì •
â”‚       â”‚   â”‚   â”œâ”€â”€ ItemPanel.js        # ë°°í‹€ ì¤‘ ì•„ì´í…œ íŒ¨ë„
â”‚       â”‚   â”‚   â””â”€â”€ BattleApp.js        # ì•± ì»´í¬ë„ŒíŠ¸
â”‚       â”‚   â”œâ”€â”€ hooks/
â”‚       â”‚   â”‚   â””â”€â”€ useBattle.js        # ë°°í‹€ ìƒíƒœ ê´€ë¦¬
â”‚       â”‚   â””â”€â”€ styles/
â”‚       â”‚       â””â”€â”€ battle.css          # ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”‚       â””â”€â”€ package.json
â””â”€â”€ README.md
```

## API ë¬¸ì„œ

### REST API

#### ì„œë²„ ìƒíƒœ
```http
GET /api/health
```

### Socket.IO ì´ë²¤íŠ¸

#### í´ë¼ì´ì–¸íŠ¸ â†’ ì„œë²„
```javascript
// ë°°í‹€ ìƒì„± (ì•„ì´í…œ ì‹œìŠ¤í…œ í¬í•¨)
socket.emit('create_battle', { 
  mode: '2v2',
  settings: {
    itemsEnabled: true,
    turnTimeLimit: 30000,
    maxTurns: 50
  }
});

// ë°°í‹€ ì°¸ê°€ (íŒ€ ì•„ì´í…œ í¬í•¨)
socket.emit('join_battle', {
  battleId: 'battle_123',
  player: {
    name: 'Player1',
    attack: 60,
    defense: 40,
    agility: 70,
    maxHp: 120
  },
  teamItems: {
    attack_booster: 2,
    defense_booster: 1,
    health_potion: 3
  }
});

// ì•¡ì…˜ ì‹¤í–‰
socket.emit('execute_action', {
  action: {
    type: 'attack',
    targets: ['player_id']
  }
});

// ì•„ì´í…œ ì‚¬ìš©
socket.emit('execute_action', {
  action: {
    type: 'use_item',
    itemId: 'attack_booster'
  }
});

// ì‚¬ìš© ê°€ëŠ¥í•œ ì•„ì´í…œ ëª©ë¡ ìš”ì²­
socket.emit('get_usable_items');

// íŒ€ ì•„ì´í…œ ì •ë³´ ìš”ì²­ (ê°™ì€ íŒ€ë§Œ)
socket.emit('get_team_items');

// ì±„íŒ… ë©”ì‹œì§€ ì „ì†¡
socket.emit('chat_message', {
  text: 'ì¢‹ì€ ì „ëµì´ë„¤ìš”!',
  timestamp: Date.now()
});

// ë°°í‹€ ìƒíƒœ ìš”ì²­
socket.emit('get_battle_state', {
  battleId: 'battle_123'
});
```

#### ì„œë²„ â†’ í´ë¼ì´ì–¸íŠ¸
```javascript
// ë°°í‹€ ìƒì„± ì™„ë£Œ
socket.on('battle_created', (data) => {
  console.log('ë°°í‹€ ID:', data.battleId);
  console.log('ì•„ì´í…œ í™œì„±í™”:', data.itemsEnabled);
});

// ë°°í‹€ ì°¸ê°€ ì™„ë£Œ
socket.on('battle_joined', (data) => {
  console.log('íŒ€:', data.team);
  console.log('í¬ì§€ì…˜:', data.position);
  console.log('íŒ€ ì•„ì´í…œ:', data.battle.teamItems);
});

// ë°°í‹€ ìƒíƒœ ì—…ë°ì´íŠ¸ (íŒ€ë³„ ë‹¤ë¥¸ ì •ë³´)
socket.on('battle_updated', (data) => {
  console.log('ë°°í‹€ ìƒíƒœ:', data.battle);
  console.log('íŒ€ ì•„ì´í…œ:', data.battle.teamItems); // ê°™ì€ íŒ€ë§Œ
});

// ì‚¬ìš© ê°€ëŠ¥í•œ ì•„ì´í…œ ëª©ë¡
socket.on('usable_items', (data) => {
  console.log('ì‚¬ìš© ê°€ëŠ¥í•œ ì•„ì´í…œ:', data.items);
});

// íŒ€ ì•„ì´í…œ ì •ë³´
socket.on('team_items', (data) => {
  console.log('íŒ€ ì•„ì´í…œ:', data.items);
});

// ì„ í›„ê³µ ê²°ì •
socket.on('initiative_rolled', (data) => {
  console.log('ì„ í›„ê³µ ê²°ê³¼:', data.rolls);
});

// ë°°í‹€ ì‹œì‘
socket.on('battle_started', (data) => {
  console.log('ë°°í‹€ ì‹œì‘!');
  console.log('íŒ€ ì•„ì´í…œ:', data.battle.teamItems); // ê°™ì€ íŒ€ë§Œ
});

// í„´ ì‹œì‘
socket.on('turn_started', (data) => {
  console.log('í˜„ì¬ í”Œë ˆì´ì–´:', data.currentPlayer);
  console.log('í„´:', data.turn);
});

// íƒ€ê²Ÿ ì„ íƒ ìš”êµ¬
socket.on('target_selection_required', (data) => {
  console.log('íƒ€ê²Ÿ ì„ íƒ í•„ìš”:', data.availableTargets);
});

// ì•¡ì…˜ ê²°ê³¼ (ì•„ì´í…œ ì‚¬ìš© í¬í•¨)
socket.on('action_result', (data) => {
  console.log('ì•¡ì…˜ ê²°ê³¼:', data.result);
  if (data.result.type === 'use_item') {
    console.log('ì•„ì´í…œ ì‚¬ìš©:', data.result.item);
    console.log('íš¨ê³¼:', data.result.result.effects);
  }
});

// ë°°í‹€ ì¢…ë£Œ
socket.on('battle_finished', (data) => {
  console.log('ìŠ¹ì:', data.winner);
});

// ì±„íŒ… ë©”ì‹œì§€ ìˆ˜ì‹ 
socket.on('chat_message', (data) => {
  console.log(`${data.playerName}: ${data.text}`);
});

// ì‹œìŠ¤í…œ ë©”ì‹œì§€
socket.on('system_message', (data) => {
  console.log('ì‹œìŠ¤í…œ:', data.message);
});

// ì—ëŸ¬
socket.on('error', (error) => {
  console.error('ì—ëŸ¬:', error.message);
});
```

## ë°°í¬ ê°€ì´ë“œ

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

#### .env íŒŒì¼ (packages/battle-api/.env)
```bash
NODE_ENV=production
PORT=3001
CORS_ORIGIN=http://localhost:3000
CLEANUP_INTERVAL=1800000
TURN_TIME_LIMIT=30000
MAX_TURNS=50
ITEMS_ENABLED=true
```

### PM2ë¥¼ ì‚¬ìš©í•œ ë°°í¬

#### 1. PM2 ê¸€ë¡œë²Œ ì„¤ì¹˜
```bash
npm install -g pm2
```

#### 2. í”„ë¡œë•ì…˜ ì‹¤í–‰
```bash
cd packages/battle-api
pm2 start src/server.js --name "battle-api"
```

#### 3. í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬
```bash
# ìƒíƒœ í™•ì¸
pm2 status

# ë¡œê·¸ í™•ì¸
pm2 logs battle-api

# ì¬ì‹œì‘
pm2 restart battle-api

# ì¤‘ë‹¨
pm2 stop battle-api
```

## ê°œë°œ ê°€ì´ë“œ

### ì•„ì´í…œ ì‹œìŠ¤í…œ ì»¤ìŠ¤í„°ë§ˆì´ì§•

#### ìƒˆë¡œìš´ ì•„ì´í…œ ì¶”ê°€
```javascript
// packages/battle-api/src/services/BattleEngine.js
this.itemDefinitions = {
  // ê¸°ì¡´ ì•„ì´í…œë“¤...
  speed_booster: {
    id: 'speed_booster',
    name: 'ë¯¼ì²© ë³´ì •ê¸°',
    description: 'ë¯¼ì²©ì„±ì„ 20 ì¦ê°€ì‹œí‚µë‹ˆë‹¤',
    type: 'booster',
    effect: { agility: 20 },
    duration: 2,
    usable: true
  }
};
```

#### ì•„ì´í…œ íš¨ê³¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•
```javascript
// packages/battle-api/src/services/BattleEngine.js
applyItemEffect(battle, player, item) {
  if (item.type === 'consumable') {
    // ì¦‰ì‹œ íš¨ê³¼
    if (item.effect.heal) {
      const healAmount = Math.min(item.effect.heal, player.maxHp - player.hp);
      player.hp += healAmount;
    }
  } else if (item.type === 'booster') {
    // ì§€ì† íš¨ê³¼
    player.activeItems[item.id] = {
      ...item,
      remainingTurns: item.duration
    };
    
    // ìŠ¤íƒ¯ ì ìš©
    Object.entries(item.effect).forEach(([stat, value]) => {
      player[stat] = (player[stat] || 0) + value;
    });
  }
}
```

### ì±„íŒ… ì‹œìŠ¤í…œ ì»¤ìŠ¤í„°ë§ˆì´ì§•

#### ë©”ì‹œì§€ í•„í„°ë§ ìˆ˜ì •
```javascript
// packages/battle-api/src/socket/battleSocket.js
filterMessage(message) {
  const forbiddenWords = ['ìš•ì„¤1', 'ìš•ì„¤2'];
  let filteredMessage = message;
  
  forbiddenWords.forEach(word => {
    const regex = new RegExp(word, 'gi');
    filteredMessage = filteredMessage.replace(regex, '*'.repeat(word.length));
  });
  
  return filteredMessage;
}
```

#### ì±„íŒ… UI ì»¤ìŠ¤í„°ë§ˆì´ì§•
```css
/* packages/battle-web/src/styles/battle.css */
.chat-panel {
  /* ìœ„ì¹˜, í¬ê¸°, ìƒ‰ìƒ ë“± ìˆ˜ì • */
}

.item-panel {
  /* ì•„ì´í…œ íŒ¨ë„ ìŠ¤íƒ€ì¼ ìˆ˜ì • */
}
```

### ìƒˆë¡œìš´ ì•¡ì…˜ íƒ€ì… ì¶”ê°€

#### 1. BattleEngine.jsì— ì•¡ì…˜ ë¡œì§ ì¶”ê°€
```javascript
processAction(battle, attacker, action) {
  switch (action.type) {
    case 'attack':
      return this.processAttack(battle, attacker, action.targets);
    case 'defend':
      return this.processDefend(battle, attacker);
    case 'dodge':
      return this.processDodge(battle, attacker);
    case 'use_item':
      return this.useItem(battle, attacker, action.itemId);
    case 'heal': // ìƒˆ ì•¡ì…˜ ì¶”ê°€
      return this.processHeal(battle, attacker, action.targets);
    default:
      throw new Error('Invalid action type');
  }
}

processHeal(battle, healer, targets) {
  // í ë¡œì§ êµ¬í˜„
}
```

#### 2. í”„ë¡ íŠ¸ì—”ë“œì— ë²„íŠ¼ ì¶”ê°€
```javascript
// packages/battle-web/src/components/BattleField.js
<button
  onClick={() => handleQuickAction('heal')}
  className="px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg"
>
  í (4)
</button>
```

### ìƒˆë¡œìš´ ê²Œì„ ëª¨ë“œ ì¶”ê°€
```javascript
// packages/battle-api/src/services/BattleEngine.js
getMinPlayers(mode) {
  const playerCounts = {
    '1v1': 2,
    '2v2': 4,
    '3v3': 6,
    '4v4': 8,
    '5v5': 10, // ìƒˆ ëª¨ë“œ ì¶”ê°€
    'battle_royale': 8 // ë°°í‹€ë¡œì–„ ëª¨ë“œ
  };
  return playerCounts[mode] || 2;
}
```

### ì•„ì´í…œ ë°¸ëŸ°ìŠ¤ ì¡°ì •
```javascript
// packages/battle-api/src/services/BattleEngine.js
this.itemDefinitions = {
  attack_booster: {
    effect: { attack: 12 }, // 15ì—ì„œ 12ë¡œ ë„ˆí”„
    duration: 2 // 3í„´ì—ì„œ 2í„´ìœ¼ë¡œ ë³€ê²½
  },
  health_potion: {
    effect: { heal: 40 } // 30ì—ì„œ 40ìœ¼ë¡œ ë²„í”„
  }
};
```

### ë””ë²„ê¹…

#### ì„œë²„ ë¡œê·¸ í™•ì¸
```bash
# ì‹¤ì‹œê°„ ë¡œê·¸
pm2 logs battle-api

# ì•„ì´í…œ ê´€ë ¨ ë¡œê·¸ë§Œ í™•ì¸
pm2 logs battle-api | grep item
```

#### í´ë¼ì´ì–¸íŠ¸ ë””ë²„ê¹…
```javascript
// ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ìƒíƒœ í™•ì¸
console.log('Socket ì—°ê²° ìƒíƒœ:', socket.connected);
console.log('ë°°í‹€ ìƒíƒœ:', battleState);
console.log('ì‚¬ìš© ê°€ëŠ¥í•œ ì•„ì´í…œ:', usableItems);
console.log('íŒ€ ì•„ì´í…œ:', teamItems);
```

### ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

#### ë°°í‹€ í†µê³„ í™•ì¸
```javascript
// BattleEngineì—ì„œ í†µê³„ ì¡°íšŒ
const stats = battleEngine.getStats();
console.log('í™œì„± ë°°í‹€:', stats.activeBattles);
console.log('ëŒ€ê¸° ì¤‘ ë°°í‹€:', stats.waitingBattles);
console.log('ì•„ì´í…œ ì‚¬ìš© íšŸìˆ˜:', stats.itemUsageCount);
```

## ì£¼ìš” ë³€ê²½ì‚¬í•­ (v2.2.0)

### ìƒˆë¡œìš´ ê¸°ëŠ¥
- âœ… **ì „ëµì  ì•„ì´í…œ ì‹œìŠ¤í…œ**: ê³µê²©/ë°©ì–´ ë³´ì •ê¸°, íšŒë³µ ë¬¼ì•½
- âœ… **íŒ€ ì „ìš© ë¹„ë°€ ì•„ì´í…œ**: ìƒëŒ€íŒ€ì—ê²Œ ë¹„ê³µê°œ
- âœ… **ì•„ì´í…œ ì„¤ì • UI**: ê²Œì„ ìƒì„± ì‹œ ì§ê´€ì ì¸ ì•„ì´í…œ êµ¬ì„±
- âœ… **ì‹¤ì‹œê°„ ì•„ì´í…œ íŒ¨ë„**: ë°°í‹€ ì¤‘ ì•„ì´í…œ ì‚¬ìš© ë° íš¨ê³¼ í‘œì‹œ
- âœ… **ì•„ì´í…œ íš¨ê³¼ ê´€ë¦¬**: ì§€ì† íš¨ê³¼ ë° ë‚¨ì€ í„´ ìˆ˜ í‘œì‹œ

### ê°œì„ ì‚¬í•­
- ğŸ”§ **íŒ€ë³„ ë°ì´í„° ê²©ë¦¬**: ì„œë²„ì—ì„œ íŒ€ë³„ë¡œ ë‹¤ë¥¸ ì •ë³´ ì „ì†¡
- ğŸ”§ **ì•„ì´í…œ ìœ íš¨ì„± ê²€ì¦**: ì„œë²„ì—ì„œ ëª¨ë“  ì•„ì´í…œ ì‚¬ìš© ê²€ì¦
- ğŸ”§ **UI/UX ê°œì„ **: ì•„ì´í…œ íŒ¨ë„ ë° ì„¤ì • í™”ë©´ ì¶”ê°€
- ğŸ”§ **ê²Œì„ ë°¸ëŸ°ìŠ¤**: ì•„ì´í…œ ìˆ˜ëŸ‰ ì œí•œ ë° íš¨ê³¼ ì¡°ì •

### ì´ì „ ê¸°ëŠ¥ (v2.1.0)
- âœ… ì‹¤ì‹œê°„ ì±„íŒ… ì‹œìŠ¤í…œ
- âœ… íƒ€ê²Ÿ ì„ íƒ UI ê°œì„ 
- âœ… ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ ë””ìì¸ ì ìš©
- âœ… ëª¨ë°”ì¼ ë°˜ì‘í˜• ì§€ì›
- âœ… í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ í™•ì¥

## ë¡œë“œë§µ

### v2.3.0 (ê³„íš)
- [ ] ìŠ¤í‚¬ ì‹œìŠ¤í…œ ì¶”ê°€ (ê¶ê·¹ê¸° ë“±)
- [ ] ìƒíƒœ ì´ìƒ íš¨ê³¼ (ë…, ë§ˆë¹„, ìˆ˜ë©´)
- [ ] ì•„ì´í…œ ì¡°í•© ì‹œìŠ¤í…œ
- [ ] ê´€ì „ì ëª¨ë“œ

### v2.4.0 (ê³„íš)
- [ ] AI ë´‡ í”Œë ˆì´ì–´
- [ ] ë­í‚¹ ì‹œìŠ¤í…œ
- [ ] ë¦¬í”Œë ˆì´ ê¸°ëŠ¥
- [ ] ì»¤ìŠ¤í…€ ë£°ì…‹

### v3.0.0 (ì¥ê¸°)
- [ ] ê¸¸ë“œ ì‹œìŠ¤í…œ
- [ ] í† ë„ˆë¨¼íŠ¸ ëª¨ë“œ
- [ ] ëª¨ë°”ì¼ ì•±
- [ ] 3D ê·¸ë˜í”½

## ë¼ì´ì„ ìŠ¤

MIT License

## ê¸°ì—¬í•˜ê¸°

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/ItemSystem`)
3. Commit your Changes (`git commit -m 'Add Item System'`)
4. Push to the Branch (`git push origin feature/ItemSystem`)
5. Open a Pull Request

## ì§€ì›

ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ [Issues](https://github.com/CriminalTalent/battle-system/issues)ì— ì˜¬ë ¤ì£¼ì„¸ìš”.

### FAQ

**Q: ì•„ì´í…œì€ ì–´ë–»ê²Œ ì„¤ì •í•˜ë‚˜ìš”?**
A: ë°°í‹€ ìƒì„± ì‹œ ì²« ë²ˆì§¸ ì°¸ê°€ìê°€ "ì•„ì´í…œ ì‹œìŠ¤í…œ ì‚¬ìš©"ì„ ì²´í¬í•˜ê³  ì›í•˜ëŠ” ì•„ì´í…œì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**Q: ìƒëŒ€íŒ€ì´ ìš°ë¦¬ ì•„ì´í…œì„ ë³¼ ìˆ˜ ìˆë‚˜ìš”?**
A: ì•„ë‹ˆìš”. ì•„ì´í…œ ì •ë³´ëŠ” ê°™ì€ íŒ€ì›ë“¤ë§Œ ë³¼ ìˆ˜ ìˆìœ¼ë©°, ìƒëŒ€íŒ€ì´ë‚˜ ê´€ì „ìì—ê²ŒëŠ” ì™„ì „íˆ ë¹„ê³µê°œì…ë‹ˆë‹¤.

**Q: ì•„ì´í…œì„ ì–¸ì œ ì‚¬ìš©í•  ìˆ˜ ìˆë‚˜ìš”?**
A: ìì‹ ì˜ í„´ì—ë§Œ ì•„ì´í…œì„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ì•„ì´í…œ ì‚¬ìš©ë„ í•˜ë‚˜ì˜ ì•¡ì…˜ìœ¼ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤.

**Q: ë³´ì •ê¸°ë¥¼ ì¤‘ë³µìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‚˜ìš”?**
A: ê°™ì€ ì¢…ë¥˜ì˜ ë³´ì •ê¸°ëŠ” ì¤‘ë³µ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ë¯¸ íš¨ê³¼ê°€ í™œì„±í™”ëœ ìƒíƒœì—ì„œëŠ” ì‚¬ìš©ì´ ì œí•œë©ë‹ˆë‹¤.
